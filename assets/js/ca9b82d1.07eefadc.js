"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9153],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(7294);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,p=function(e,t){if(null==e)return{};var n,a,p={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(p[n]=e[n]);return p}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(p[n]=e[n])}return p}var o=a.createContext({}),i=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=i(e.components);return a.createElement(o.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,p=e.mdxType,r=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=i(n),d=p,k=c["".concat(o,".").concat(d)]||c[d]||u[d]||r;return n?a.createElement(k,l(l({ref:t},m),{},{components:n})):a.createElement(k,l({ref:t},m))}));function k(e,t){var n=arguments,p=t&&t.mdxType;if("string"==typeof e||p){var r=n.length,l=new Array(r);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[c]="string"==typeof e?e:p,l[1]=s;for(var i=2;i<r;i++)l[i]=n[i];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6149:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>i});var a=n(7462),p=(n(7294),n(3905));const r={},l="02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011",s={unversionedId:"React/02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011",id:"React/02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011",title:"02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011",description:"1.\u7ec4\u4ef6\u7684\u4f7f\u7528",source:"@site/docs/React/02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011.md",sourceDirName:"React",slug:"/React/02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011",permalink:"/docs/React/02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/React/02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"01 \u3010react\u5165\u95e8\u3011",permalink:"/docs/React/01 \u3010react\u5165\u95e8\u3011"},next:{title:"03 \u3010\u4e8b\u4ef6\u5904\u7406\u3011",permalink:"/docs/React/03 \u3010\u4e8b\u4ef6\u5904\u7406\u3011"}},o={},i=[{value:"1.\u7ec4\u4ef6\u7684\u4f7f\u7528",id:"1\u7ec4\u4ef6\u7684\u4f7f\u7528",level:2},{value:"1.1 \u51fd\u6570\u5f0f\u7ec4\u4ef6",id:"11-\u51fd\u6570\u5f0f\u7ec4\u4ef6",level:3},{value:"1.2 \u7c7b\u5f0f\u7ec4\u4ef6",id:"12-\u7c7b\u5f0f\u7ec4\u4ef6",level:3},{value:"1.3 \u7ec4\u5408\u7ec4\u4ef6",id:"13-\u7ec4\u5408\u7ec4\u4ef6",level:3},{value:"1.4 \u63d0\u53d6\u7ec4\u4ef6",id:"14-\u63d0\u53d6\u7ec4\u4ef6",level:3},{value:"\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u4e09\u5927\u5c5e\u6027 state props refs",id:"\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u4e09\u5927\u5c5e\u6027-state-props-refs",level:2},{value:"2.state",id:"2state",level:2},{value:"2.1 \u57fa\u672c\u4f7f\u7528",id:"21-\u57fa\u672c\u4f7f\u7528",level:3},{value:"2.2 setState()",id:"22-setstate",level:3},{value:"2.3 state\u7684\u7b80\u5199\u65b9\u5f0f",id:"23-state\u7684\u7b80\u5199\u65b9\u5f0f",level:3},{value:"2.4 State \u7684\u66f4\u65b0\u53ef\u80fd\u662f\u5f02\u6b65\u7684",id:"24-state-\u7684\u66f4\u65b0\u53ef\u80fd\u662f\u5f02\u6b65\u7684",level:3},{value:"2.5 \u5f02\u6b65\u66f4\u65b0\u89e3\u51b3\u65b9\u6848",id:"25-\u5f02\u6b65\u66f4\u65b0\u89e3\u51b3\u65b9\u6848",level:3},{value:"2.6 \u6570\u636e\u662f\u5411\u4e0b\u6d41\u52a8\u7684",id:"26-\u6570\u636e\u662f\u5411\u4e0b\u6d41\u52a8\u7684",level:3},{value:"3.props",id:"3props",level:2},{value:"3.1 \u57fa\u672c\u4f7f\u7528",id:"31-\u57fa\u672c\u4f7f\u7528",level:3},{value:"3.2 props\u9650\u5236",id:"32-props\u9650\u5236",level:3},{value:"3.3 \u7b80\u5199\u65b9\u5f0f",id:"33-\u7b80\u5199\u65b9\u5f0f",level:3},{value:"3.4 \u51fd\u6570\u5f0f\u7ec4\u4ef6\u7684\u4f7f\u7528",id:"34-\u51fd\u6570\u5f0f\u7ec4\u4ef6\u7684\u4f7f\u7528",level:3},{value:"3.5 props \u7684\u53ea\u8bfb\u6027",id:"35-props-\u7684\u53ea\u8bfb\u6027",level:3},{value:"4.refs",id:"4refs",level:2},{value:"4.1 \u5b57\u7b26\u4e32\u5f62\u5f0f",id:"41-\u5b57\u7b26\u4e32\u5f62\u5f0f",level:3},{value:"4.2 \u56de\u8c03\u5f62\u5f0f",id:"42-\u56de\u8c03\u5f62\u5f0f",level:3},{value:"4.3 createRef \u5f62\u5f0f\uff08\u63a8\u8350\u5199\u6cd5\uff09",id:"43-createref-\u5f62\u5f0f\u63a8\u8350\u5199\u6cd5",level:3},{value:"4.4 \u4e3a DOM \u5143\u7d20\u6dfb\u52a0 ref",id:"44-\u4e3a-dom-\u5143\u7d20\u6dfb\u52a0-ref",level:3},{value:"4.5 \u4e3a class \u7ec4\u4ef6\u6dfb\u52a0 Ref",id:"45-\u4e3a-class-\u7ec4\u4ef6\u6dfb\u52a0-ref",level:3},{value:"4.6 Refs \u4e0e\u51fd\u6570\u7ec4\u4ef6",id:"46-refs-\u4e0e\u51fd\u6570\u7ec4\u4ef6",level:3}],m={toc:i};function c(e){let{components:t,...r}=e;return(0,p.kt)("wrapper",(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,p.kt)("h1",{id:"02-\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b"},"02 \u3010\u9762\u5411\u7ec4\u4ef6\u7f16\u7a0b\u3011"),(0,p.kt)("h2",{id:"1\u7ec4\u4ef6\u7684\u4f7f\u7528"},"1.\u7ec4\u4ef6\u7684\u4f7f\u7528"),(0,p.kt)("p",null,"\u5f53\u5e94\u7528\u662f\u4ee5\u591a\u7ec4\u4ef6\u7684\u65b9\u5f0f\u5b9e\u73b0\uff0c\u8fd9\u4e2a\u5e94\u7528\u5c31\u662f\u4e00\u4e2a\u7ec4\u4ef6\u5316\u7684\u5e94\u7528"),(0,p.kt)("p",null,"\u53ea\u6709\u4e24\u79cd\u65b9\u5f0f\u7684\u7ec4\u4ef6"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u51fd\u6570\u7ec4\u4ef6"),(0,p.kt)("li",{parentName:"ul"},"\u7c7b\u5f0f\u7ec4\u4ef6")),(0,p.kt)("blockquote",null,(0,p.kt)("admonition",{parentName:"blockquote",title:"\u6ce8\u610f\uff1a",type:"danger"},(0,p.kt)("ol",{parentName:"admonition"},(0,p.kt)("li",{parentName:"ol"},"\u7ec4\u4ef6\u540d\u5fc5\u987b\u662f\u9996\u5b57\u6bcd\u5927\u5199\uff08React \u4f1a\u5c06\u4ee5\u5c0f\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u7ec4\u4ef6\u89c6\u4e3a\u539f\u751f DOM \u6807\u7b7e\u3002\u4f8b\u5982\uff0c< div />",(0,p.kt)("inlineCode",{parentName:"li"},"\u4ee3\u8868 HTML \u7684 div \u6807\u7b7e"),"\uff0c\u800c< Weclome /> \u5219\u4ee3\u8868\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5e76\u4e14\u9700\u5728\u4f5c\u7528\u57df\u5185\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"Welcome"),"\uff09"),(0,p.kt)("li",{parentName:"ol"},"\u865a\u62dfDOM\u5143\u7d20\u53ea\u80fd\u6709\u4e00\u4e2a\u6839\u5143\u7d20"),(0,p.kt)("li",{parentName:"ol"},"\u865a\u62dfDOM\u5143\u7d20\u5fc5\u987b\u6709\u7ed3\u675f\u6807\u7b7e ",(0,p.kt)("inlineCode",{parentName:"li"},"< />"))))),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6e32\u67d3\u7c7b\u7ec4\u4ef6\u6807\u7b7e\u7684\u57fa\u672c\u6d41\u7a0b")),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"React \u5185\u90e8\u4f1a\u521b\u5efa\u7ec4\u4ef6\u5b9e\u4f8b\u5bf9\u8c61"),(0,p.kt)("li",{parentName:"ol"},"\u8c03\u7528",(0,p.kt)("inlineCode",{parentName:"li"},"render()"),"\u5f97\u5230\u865a\u62df DOM ,\u5e76\u89e3\u6790\u4e3a\u771f\u5b9e DOM"),(0,p.kt)("li",{parentName:"ol"},"\u63d2\u5165\u5230\u6307\u5b9a\u7684\u9875\u9762\u5143\u7d20\u5185\u90e8")),(0,p.kt)("h3",{id:"11-\u51fd\u6570\u5f0f\u7ec4\u4ef6"},"1.1 \u51fd\u6570\u5f0f\u7ec4\u4ef6"),(0,p.kt)("p",null,"\u5b9a\u4e49\u7ec4\u4ef6\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u7f16\u5199 JavaScript \u51fd\u6570\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"}," //1.\u521b\u5efa\u51fd\u6570\u5f0f\u7ec4\u4ef6\n      function MyComponent(props) {\n        console.log(this) //\u6b64\u5904\u7684this\u662fundefined\uff0c\u56e0\u4e3ababel\u7f16\u8bd1\u540e\u5f00\u542f\u4e86\u4e25\u683c\u6a21\u5f0f\n        return <h2>\u6211\u662f\u7528\u51fd\u6570\u5b9a\u4e49\u7684\u7ec4\u4ef6(\u9002\u7528\u4e8e\u3010\u7b80\u5355\u7ec4\u4ef6\u3011\u7684\u5b9a\u4e49)</h2>\n      }\n\n //2.\u6e32\u67d3\u7ec4\u4ef6\u5230\u9875\u9762\n      ReactDOM.render(<MyComponent />, document.getElementById('test'))\n")),(0,p.kt)("p",null,"\u8be5\u51fd\u6570\u662f\u4e00\u4e2a\u6709\u6548\u7684 React \u7ec4\u4ef6\uff0c\u56e0\u4e3a\u5b83\u63a5\u6536\u552f\u4e00\u5e26\u6709\u6570\u636e\u7684 \u201cprops\u201d\uff08\u4ee3\u8868\u5c5e\u6027\uff09\u5bf9\u8c61\u4e0e\u5e76\u8fd4\u56de\u4e00\u4e2a React \u5143\u7d20\u3002\u8fd9\u7c7b\u7ec4\u4ef6\u88ab\u79f0\u4e3a\u201c\u51fd\u6570\u7ec4\u4ef6\u201d\uff0c\u56e0\u4e3a\u5b83\u672c\u8d28\u4e0a\u5c31\u662f JavaScript \u51fd\u6570\u3002"),(0,p.kt)("p",null,"\u8ba9\u6211\u4eec\u6765\u56de\u987e\u4e00\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u53d1\u751f\u4e86\u4ec0\u4e48\uff1a"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"React\u89e3\u6790\u7ec4\u4ef6\u6807\u7b7e\uff0c\u627e\u5230\u4e86MyComponent\u7ec4\u4ef6\u3002")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u53d1\u73b0\u7ec4\u4ef6\u662f\u4f7f\u7528\u51fd\u6570\u5b9a\u4e49\u7684\uff0c\u968f\u540e\u8c03\u7528\u8be5\u51fd\u6570\uff0c\u5c06\u8fd4\u56de\u7684\u865a\u62dfDOM\u8f6c\u4e3a\u771f\u5b9eDOM\uff0c\u968f\u540e\u5448\u73b0\u5728\u9875\u9762\u4e2d\u3002"))),(0,p.kt)("blockquote",null,(0,p.kt)("admonition",{parentName:"blockquote",type:"danger"},(0,p.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,p.kt)("strong",{parentName:"mdxAdmonitionTitle"},"\u6ce8\u610f"),"\uff1a"),(0,p.kt)("p",{parentName:"admonition"},(0,p.kt)("strong",{parentName:"p"},"\u7ec4\u4ef6\u540d\u79f0\u5fc5\u987b\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u3002")))),(0,p.kt)("p",null,"React \u4f1a\u5c06\u4ee5\u5c0f\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u7ec4\u4ef6\u89c6\u4e3a\u539f\u751f DOM \u6807\u7b7e\u3002\u4f8b\u5982\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"<div />")," \u4ee3\u8868 HTML \u7684 div \u6807\u7b7e\uff0c\u800c ",(0,p.kt)("inlineCode",{parentName:"p"},"<Welcome />")," \u5219\u4ee3\u8868\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5e76\u4e14\u9700\u5728\u4f5c\u7528\u57df\u5185\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"Welcome"),"\u3002"),(0,p.kt)("p",null,"\u4f60\u53ef\u4ee5\u5728",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/jsx-in-depth.html#user-defined-components-must-be-capitalized"},"\u6df1\u5165 JSX")," \u4e2d\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u6b64\u89c4\u8303\u7684\u539f\u56e0\u3002"),(0,p.kt)("h3",{id:"12-\u7c7b\u5f0f\u7ec4\u4ef6"},"1.2 \u7c7b\u5f0f\u7ec4\u4ef6"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("a",{parentName:"p",href:"http://gitwxman.github.io/docs/ES6/ES6%20%E6%96%B0%E7%89%B9%E6%80%A7#3-class%E7%B1%BB"},"\u70b9\u51fb\u53bb\u590d\u4e60\u4e00\u4e0bes6 class\u7c7b"),",")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes"},"MDN ES6 class\u6587\u6863")))),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},(0,p.kt)("strong",{parentName:"p"},"\u5c06\u51fd\u6570\u7ec4\u4ef6\u8f6c\u6362\u6210 class \u7ec4\u4ef6")),(0,p.kt)("p",{parentName:"blockquote"},"\u901a\u8fc7\u4ee5\u4e0b\u4e94\u6b65\u5c06 ",(0,p.kt)("inlineCode",{parentName:"p"},"Clock")," \u7684\u51fd\u6570\u7ec4\u4ef6\u8f6c\u6210 class \u7ec4\u4ef6\uff1a"),(0,p.kt)("ol",{parentName:"blockquote"},(0,p.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e00\u4e2a\u540c\u540d\u7684 ",(0,p.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes"},"ES6 class"),"\uff0c\u5e76\u4e14\u7ee7\u627f\u4e8e ",(0,p.kt)("inlineCode",{parentName:"li"},"React.Component"),"\u3002"),(0,p.kt)("li",{parentName:"ol"},"\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"render()")," \u65b9\u6cd5\u3002"),(0,p.kt)("li",{parentName:"ol"},"\u5c06\u51fd\u6570\u4f53\u79fb\u52a8\u5230 ",(0,p.kt)("inlineCode",{parentName:"li"},"render()")," \u65b9\u6cd5\u4e4b\u4e2d\u3002"),(0,p.kt)("li",{parentName:"ol"},"\u5728 ",(0,p.kt)("inlineCode",{parentName:"li"},"render()")," \u65b9\u6cd5\u4e2d\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"this.props")," \u66ff\u6362 ",(0,p.kt)("inlineCode",{parentName:"li"},"props"),"\u3002"),(0,p.kt)("li",{parentName:"ol"},"\u5220\u9664\u5269\u4f59\u7684\u7a7a\u51fd\u6570\u58f0\u660e\u3002"))),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"class MyComponent extends React.Component {\n        render() {\n          console.log('render\u4e2d\u7684this:', this)\n          return <h2>\u6211\u662f\u7528\u7c7b\u5b9a\u4e49\u7684\u7ec4\u4ef6(\u9002\u7528\u4e8e\u3010\u590d\u6742\u7ec4\u4ef6\u3011\u7684\u5b9a\u4e49)</h2>\n        }\n      }\n\nReactDOM.render(<MyComponent />, document.getElementById('test'))\n")),(0,p.kt)("p",null,"\u6bcf\u6b21\u7ec4\u4ef6\u66f4\u65b0\u65f6 ",(0,p.kt)("inlineCode",{parentName:"p"},"render")," \u65b9\u6cd5\u90fd\u4f1a\u88ab\u8c03\u7528\uff0c\u4f46\u53ea\u8981\u5728\u76f8\u540c\u7684 DOM \u8282\u70b9\u4e2d\u6e32\u67d3 ",(0,p.kt)("inlineCode",{parentName:"p"},"<MyComponent/>")," \uff0c\u5c31\u4ec5\u6709\u4e00\u4e2a ",(0,p.kt)("inlineCode",{parentName:"p"},"MyComponent")," \u7ec4\u4ef6\u7684 class \u5b9e\u4f8b\u88ab\u521b\u5efa\u4f7f\u7528\u3002\u8fd9\u5c31\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5982 state \u6216\u751f\u547d\u5468\u671f\u65b9\u6cd5\u7b49\u5f88\u591a\u5176\u4ed6\u7279\u6027\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6267\u884c\u8fc7\u7a0b\uff1a")),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"React\u89e3\u6790\u7ec4\u4ef6\u6807\u7b7e\uff0c\u627e\u5230\u76f8\u5e94\u7684\u7ec4\u4ef6")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u53d1\u73b0\u7ec4\u4ef6\u662f\u7c7b\u5b9a\u4e49\u7684\uff0c\u968f\u540enew\u51fa\u6765\u7684\u7c7b\u7684\u5b9e\u4f8b\uff0c\u5e76\u901a\u8fc7\u8be5\u5b9e\u4f8b\u8c03\u7528\u5230\u539f\u578b\u4e0a\u7684render\u65b9\u6cd5")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u5c06render\u8fd4\u56de\u7684\u865a\u62dfDOM\u8f6c\u5316\u4e3a\u771f\u5b9e\u7684DOM,\u968f\u540e\u5448\u73b0\u5728\u9875\u9762\u4e2d"))),(0,p.kt)("h3",{id:"13-\u7ec4\u5408\u7ec4\u4ef6"},"1.3 \u7ec4\u5408\u7ec4\u4ef6"),(0,p.kt)("p",null,"\u7ec4\u4ef6\u53ef\u4ee5\u5728\u5176\u8f93\u51fa\u4e2d\u5f15\u7528\u5176\u4ed6\u7ec4\u4ef6\u3002\u8fd9\u5c31\u53ef\u4ee5\u8ba9\u6211\u4eec\u7528\u540c\u4e00\u7ec4\u4ef6\u6765\u62bd\u8c61\u51fa\u4efb\u610f\u5c42\u6b21\u7684\u7ec6\u8282\u3002\u6309\u94ae\uff0c\u8868\u5355\uff0c\u5bf9\u8bdd\u6846\uff0c\u751a\u81f3\u6574\u4e2a\u5c4f\u5e55\u7684\u5185\u5bb9\uff1a\u5728 React \u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u8fd9\u4e9b\u901a\u5e38\u90fd\u4f1a\u4ee5\u7ec4\u4ef6\u7684\u5f62\u5f0f\u8868\u793a\u3002"),(0,p.kt)("p",null,"\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u53ef\u4ee5\u591a\u6b21\u6e32\u67d3 ",(0,p.kt)("inlineCode",{parentName:"p"},"Welcome")," \u7ec4\u4ef6\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"App")," \u7ec4\u4ef6\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'function Welcome(props) {\n  return <h1>Hello, {props.name}</h1>;\n}\n\nfunction App() {\n  return (\n    <div>\n      <Welcome name="Sara" />      \n      <Welcome name="Cahal" />      \n      <Welcome name="Edite" />    \n     </div>\n  );\n}\n')),(0,p.kt)("p",null,(0,p.kt)("img",{alt:"2-1",src:n(1374).Z,width:"425",height:"242"})),(0,p.kt)("p",null,"\u901a\u5e38\u6765\u8bf4\uff0c\u6bcf\u4e2a\u65b0\u7684 React \u5e94\u7528\u7a0b\u5e8f\u7684\u9876\u5c42\u7ec4\u4ef6\u90fd\u662f ",(0,p.kt)("inlineCode",{parentName:"p"},"App")," \u7ec4\u4ef6\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u5c06 React \u96c6\u6210\u5230\u73b0\u6709\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u50cf ",(0,p.kt)("inlineCode",{parentName:"p"},"Button")," \u8fd9\u6837\u7684\u5c0f\u7ec4\u4ef6\uff0c\u5e76\u81ea\u4e0b\u800c\u4e0a\u5730\u5c06\u8fd9\u7c7b\u7ec4\u4ef6\u9010\u6b65\u5e94\u7528\u5230\u89c6\u56fe\u5c42\u7684\u6bcf\u4e00\u5904\u3002"),(0,p.kt)("h3",{id:"14-\u63d0\u53d6\u7ec4\u4ef6"},"1.4 \u63d0\u53d6\u7ec4\u4ef6"),(0,p.kt)("p",null,"\u5c06\u7ec4\u4ef6\u62c6\u5206\u4e3a\u66f4\u5c0f\u7684\u7ec4\u4ef6\u3002"),(0,p.kt)("p",null,"\u4f8b\u5982\uff0c\u53c2\u8003\u5982\u4e0b ",(0,p.kt)("inlineCode",{parentName:"p"},"Comment")," \u7ec4\u4ef6\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'function formatDate(date) {\n    return date.toLocaleDateString()\n}\n\nfunction Comment(props) {\n    return (\n      <div className="Comment">\n        <div className="UserInfo">\n          <img className="Avatar" src={props.author.avatarUrl} alt={props.author.name} />\n          <div className="UserInfo-name">{props.author.name}</div>\n        </div>\n        <div className="Comment-text">{props.text}</div>\n        <div className="Comment-date">{formatDate(props.date)}</div>\n      </div>\n    )\n}\n\nconst comment = {\n    date: new Date(),\n    text: \'I hope you enjoy learning React!\',\n    author: {\n      name: \'Hello Kitty\',\n      avatarUrl: \'http://placekitten.com/g/64/64\',\n    },\n}\n\nReactDOM.render(\n<Comment date={comment.date} text={comment.text} author={comment.author} />,\ndocument.getElementById(\'test\'),\n)\n')),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},(0,p.kt)("a",{parentName:"strong",href:"https://codepen.io/gaearon/pen/VKQwEo?editors=1010"},"\u5728 CodePen \u4e0a\u8bd5\u8bd5"))),(0,p.kt)("p",null,"\u8be5\u7ec4\u4ef6\u7528\u4e8e\u63cf\u8ff0\u4e00\u4e2a\u793e\u4ea4\u5a92\u4f53\u7f51\u7ad9\u4e0a\u7684\u8bc4\u8bba\u529f\u80fd\uff0c\u5b83\u63a5\u6536 ",(0,p.kt)("inlineCode",{parentName:"p"},"author"),"\uff08\u5bf9\u8c61\uff09\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"text")," \uff08\u5b57\u7b26\u4e32\uff09\u4ee5\u53ca ",(0,p.kt)("inlineCode",{parentName:"p"},"date"),"\uff08\u65e5\u671f\uff09\u4f5c\u4e3a props\u3002\n",(0,p.kt)("img",{alt:"2-2",src:n(4527).Z,width:"361",height:"199"})),(0,p.kt)("p",null,"\u8be5\u7ec4\u4ef6\u7531\u4e8e\u5d4c\u5957\u7684\u5173\u7cfb\uff0c\u53d8\u5f97\u96be\u4ee5\u7ef4\u62a4\uff0c\u4e14\u5f88\u96be\u590d\u7528\u5b83\u7684\u5404\u4e2a\u90e8\u5206\u3002\u56e0\u6b64\uff0c\u8ba9\u6211\u4eec\u4ece\u4e2d\u63d0\u53d6\u4e00\u4e9b\u7ec4\u4ef6\u51fa\u6765\u3002"),(0,p.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u5c06\u63d0\u53d6 ",(0,p.kt)("inlineCode",{parentName:"p"},"Avatar")," \u7ec4\u4ef6\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'function Avatar(props) {\n  return (\n    <img className="Avatar"      src={props.user.avatarUrl}      alt={props.user.name}    />  );\n}\n')),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"Avatar")," \u4e0d\u9700\u77e5\u9053\u5b83\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"Comment")," \u7ec4\u4ef6\u5185\u90e8\u662f\u5982\u4f55\u6e32\u67d3\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7ed9\u5b83\u7684 props \u8d77\u4e86\u4e00\u4e2a\u66f4\u901a\u7528\u7684\u540d\u5b57\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"user"),"\uff0c\u800c\u4e0d\u662f ",(0,p.kt)("inlineCode",{parentName:"p"},"author"),"\u3002"),(0,p.kt)("p",null,"\u6211\u4eec\u5efa\u8bae\u4ece\u7ec4\u4ef6\u81ea\u8eab\u7684\u89d2\u5ea6\u547d\u540d props\uff0c\u800c\u4e0d\u662f\u4f9d\u8d56\u4e8e\u8c03\u7528\u7ec4\u4ef6\u7684\u4e0a\u4e0b\u6587\u547d\u540d\u3002"),(0,p.kt)("p",null,"\u6211\u4eec\u73b0\u5728\u9488\u5bf9 ",(0,p.kt)("inlineCode",{parentName:"p"},"Comment")," \u505a\u4e9b\u5fae\u5c0f\u8c03\u6574\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'  function Avatar(props) {\n    return <img className="Avatar" src={props.user.avatarUrl} alt={props.user.name} />\n  }\n\n  function Comment(props) {\n    return (\n      <div className="Comment">\n        <div className="UserInfo">\n          <Avatar user={props.author} />\n          <div className="UserInfo-name">{props.author.name}</div>\n        </div>\n        <div className="Comment-text">{props.text}</div>\n        <div className="Comment-date">{formatDate(props.date)}</div>\n      </div>\n    )\n  }\n')),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u63d0\u53d6 ",(0,p.kt)("inlineCode",{parentName:"p"},"UserInfo")," \u7ec4\u4ef6\uff0c\u8be5\u7ec4\u4ef6\u5728\u7528\u6237\u540d\u65c1\u6e32\u67d3 ",(0,p.kt)("inlineCode",{parentName:"p"},"Avatar")," \u7ec4\u4ef6\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'function UserInfo(props) {\n  return (\n    <div className="UserInfo">\n      <Avatar user={props.user} />\n      <div className="UserInfo-name">\n        {props.user.name}\n      </div>\n    </div>\n  );\n}\n')),(0,p.kt)("p",null,"\u8fdb\u4e00\u6b65\u7b80\u5316 ",(0,p.kt)("inlineCode",{parentName:"p"},"Comment")," \u7ec4\u4ef6\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'  function Avatar(props) {\n    return <img className="Avatar" src={props.user.avatarUrl} alt={props.user.name} />\n  }\n\n  function UserInfo(props) {\n    return (\n      <div className="UserInfo">\n        <Avatar user={props.user} />\n        <div className="UserInfo-name">{props.user.name}</div>\n      </div>\n    )\n  }\n\n  function Comment(props) {\n    return (\n      <div className="Comment">\n        <UserInfo user={props.author} />\n        <div className="Comment-text">{props.text}</div>\n        <div className="Comment-date">{formatDate(props.date)}</div>\n      </div>\n    )\n  }\n')),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},(0,p.kt)("a",{parentName:"strong",href:"https://codepen.io/gaearon/pen/rrJNJY?editors=1010"},"\u5728 CodePen \u4e0a\u8bd5\u8bd5"))),(0,p.kt)("p",null,"\u6700\u521d\u770b\u4e0a\u53bb\uff0c\u63d0\u53d6\u7ec4\u4ef6\u53ef\u80fd\u662f\u4e00\u4ef6\u7e41\u91cd\u7684\u5de5\u4f5c\uff0c\u4f46\u662f\uff0c\u5728\u5927\u578b\u5e94\u7528\u4e2d\uff0c\u6784\u5efa\u53ef\u590d\u7528\u7ec4\u4ef6\u5e93\u662f\u5b8c\u5168\u503c\u5f97\u7684\u3002\u6839\u636e\u7ecf\u9a8c\u6765\u770b\uff0c\u5982\u679c UI \u4e2d\u6709\u4e00\u90e8\u5206\u88ab\u591a\u6b21\u4f7f\u7528\uff08",(0,p.kt)("inlineCode",{parentName:"p"},"Button"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"Panel"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"Avatar"),"\uff09\uff0c\u6216\u8005\u7ec4\u4ef6\u672c\u8eab\u5c31\u8db3\u591f\u590d\u6742\uff08",(0,p.kt)("inlineCode",{parentName:"p"},"App"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"FeedStory"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"Comment"),"\uff09\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u4e00\u4e2a\u53ef\u63d0\u53d6\u51fa\u72ec\u7acb\u7ec4\u4ef6\u7684\u5019\u9009\u9879\u3002"),(0,p.kt)("h2",{id:"\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u4e09\u5927\u5c5e\u6027-state-props-refs"},"\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u4e09\u5927\u5c5e\u6027 state props refs"),(0,p.kt)("h2",{id:"2state"},"2.state"),(0,p.kt)("h3",{id:"21-\u57fa\u672c\u4f7f\u7528"},"2.1 \u57fa\u672c\u4f7f\u7528"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u6211\u4eec\u90fd\u8bf4React\u662f\u4e00\u4e2a\u72b6\u6001\u673a\uff0c\u4f53\u73b0\u662f\u4ec0\u4e48\u5730\u65b9\u5462\uff0c\u5c31\u662f\u4f53\u73b0\u5728state\u4e0a\uff0c\u901a\u8fc7\u4e0e\u7528\u6237\u7684\u4ea4\u4e92\uff0c\u5b9e\u73b0\u4e0d\u540c\u7684\u72b6\u6001\uff0c\u7136\u540e\u53bb\u6e32\u67d3UI,\u8fd9\u6837\u5c31\u8ba9\u7528\u6237\u7684\u6570\u636e\u548c\u754c\u9762\u4fdd\u6301\u4e00\u81f4\u4e86\u3002state\u662f\u7ec4\u4ef6\u7684\u79c1\u6709\u5c5e\u6027\u3002"),(0,p.kt)("p",{parentName:"blockquote"},"\u5728React\u4e2d\uff0c\u66f4\u65b0\u7ec4\u4ef6\u7684state\uff0c\u7ed3\u679c\u5c31\u4f1a\u91cd\u65b0\u6e32\u67d3\u7528\u6237\u754c\u9762(\u4e0d\u9700\u8981\u64cd\u4f5cDOM),\u4e00\u53e5\u8bdd\u5c31\u662f\u8bf4\uff0c\u7528\u6237\u7684\u754c\u9762\u4f1a\u968f\u7740\u72b6\u6001\u7684\u6539\u53d8\u800c\u6539\u53d8\u3002"),(0,p.kt)("p",{parentName:"blockquote"},"state\u662f\u7ec4\u4ef6\u5bf9\u8c61\u6700\u91cd\u8981\u7684\u5c5e\u6027\uff0c\u503c\u662f\u5bf9\u8c61\uff08\u53ef\u4ee5\u5305\u542b\u591a\u4e2akey-value\u7684\u7ec4\u5408\uff09"),(0,p.kt)("p",{parentName:"blockquote"},"\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u8be5\u7ec4\u4ef6\u6240\u5b58\u50a8\u7684\u6570\u636e")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6848\u4f8b"),"\uff1a"),(0,p.kt)("p",null,"\u9700\u6c42\uff1a\u9875\u9762\u663e\u793a\u3010\u4eca\u5929\u5929\u6c14\u5f88\u708e\u70ed\u3011\uff0c\u9f20\u6807\u70b9\u51fb\u6587\u5b57\u7684\u65f6\u5019\uff0c\u9875\u9762\u66f4\u6539\u4e3a\u3010\u4eca\u5929\u5929\u6c14\u5f88\u51c9\u723d\u3011"),(0,p.kt)("p",null,"\u6838\u5fc3\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'<body>\n    \x3c!-- \u51c6\u5907\u597d\u5bb9\u5668 --\x3e\n    <div id="test">\n        \n    </div>\n</body>\n\n\x3c!--\u8fd9\u91cc\u4f7f\u7528\u4e86js\u6765\u521b\u5efa\u865a\u62dfDOM--\x3e\n<script type="text/babel">\n        //1.\u521b\u5efa\u7ec4\u4ef6\n        class Weather extends React.Component{\n            constructor(props){\n                super(props);\n                //\u5148\u7ed9state\u8d4b\u503c\n                this.state = {isHot:true,win:"ss"};\n                //\u627e\u5230\u539f\u578b\u7684dem\uff0c\u6839\u636edem\u51fd\u6570\u521b\u5efa\u4e86\u4e00\u4e2adem1\u7684\u51fd\u6570\uff0c\u5e76\u4e14\u5c06\u5b9e\u4f8b\u5bf9\u8c61\u7684this\u8d4b\u503c\u8fc7\u53bb\n                this.dem1 = this.dem.bind(this);\n            }\n            //render\u4f1a\u8c03\u75281+n\u6b21\u30101\u5c31\u662f\u521d\u59cb\u5316\u7684\u65f6\u5019\u8c03\u7528\u7684\uff0cn\u5c31\u662f\u6bcf\u4e00\u6b21\u4fee\u6539state\u7684\u65f6\u5019\u8c03\u7528\u7684\u3011\n            render(){ //\u8fd9\u4e2aThis\u4e5f\u662f\u5b9e\u4f8b\u5bf9\u8c61\n                //\u5982\u679c\u52a0dem()\uff0c\u5c31\u662f\u5c06\u51fd\u6570\u7684\u56de\u8c03\u503c\u653e\u5165\u8fd9\u4e2a\u5730\u65b9\n                //this.dem\u8fd9\u91cc\u9762\u52a0\u5165this\uff0c\u5e76\u4e0d\u662f\u8c03\u7528\uff0c\u53ea\u4e0d\u8fc7\u662f\u627e\u5230\u4e86dem\u8fd9\u4e2a\u51fd\u6570\uff0c\u5728\u8c03\u7528\u7684\u65f6\u5019\u76f8\u5f53\u4e8e\u76f4\u63a5\u8c03\u7528\uff0c\u5e76\u4e0d\u662f\u5b9e\u4f8b\u5bf9\u8c61\u7684\u8c03\u7528\n                return <h1 onClick = {this.dem1}>\u4eca\u5929\u5929\u6c14\u5f88{this.state.isHot?"\u708e\u70ed":"\u51c9\u723d"}</h1>    \n            }\n            //\u901a\u8fc7state\u7684\u5b9e\u4f8b\u8c03\u7528dem\u7684\u65f6\u5019\uff0cthis\u5c31\u662f\u5b9e\u4f8b\u5bf9\u8c61\n            dem(){\n                const state =  this.state.isHot;\n                 //\u72b6\u6001\u4e2d\u7684\u5c5e\u6027\u4e0d\u80fd\u76f4\u63a5\u8fdb\u884c\u66f4\u6539\uff0c\u9700\u8981\u501f\u52a9API\n                // this.state.isHot = !isHot; \u9519\u8bef\n                //\u5fc5\u987b\u4f7f\u7528setState\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\uff0c\u5e76\u4e14\u8fd9\u662f\u4e00\u4e2a\u5408\u5e76\n                this.setState({isHot:!state});\n            }\n        }\n        // 2.\u6e32\u67d3\uff0c\u5982\u679c\u6709\u591a\u4e2a\u6e32\u67d3\u540c\u4e00\u4e2a\u5bb9\u5668\uff0c\u540e\u9762\u7684\u4f1a\u5c06\u524d\u9762\u7684\u8986\u76d6\u6389\n        ReactDOM.render(<Weather/>,document.getElementById("test"));\n<\/script>\n')),(0,p.kt)("p",null,"\u5728",(0,p.kt)("strong",{parentName:"p"},"\u7c7b\u5f0f\u7ec4\u4ef6"),"\u7684\u51fd\u6570\u4e2d\uff0c\u76f4\u63a5\u4fee\u6539",(0,p.kt)("inlineCode",{parentName:"p"},"state"),"\u503c"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"this.state.isHot = false\n")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u9875\u9762\u7684\u6e32\u67d3\u9760\u7684\u662f",(0,p.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570")),(0,p.kt)("p",null,"\u8fd9\u65f6\u5019\u4f1a\u53d1\u73b0\u9875\u9762\u5185\u5bb9\u4e0d\u4f1a\u6539\u53d8\uff0c\u539f\u56e0\u662f React \u4e2d\u4e0d\u5efa\u8bae ",(0,p.kt)("inlineCode",{parentName:"p"},"state"),"\u4e0d\u5141\u8bb8\u76f4\u63a5\u4fee\u6539\uff0c\u800c\u662f\u901a\u8fc7\u7c7b\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u65b9\u6cd5 ",(0,p.kt)("inlineCode",{parentName:"p"},"setState()")),(0,p.kt)("admonition",{type:"danger"},(0,p.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,p.kt)("strong",{parentName:"mdxAdmonitionTitle"},"\u6ce8\u610f\uff1a")),(0,p.kt)("ol",{parentName:"admonition"},(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u7ec4\u4ef6\u7684\u6784\u9020\u51fd\u6570\uff0c\u5fc5\u987b\u8981\u4f20\u9012\u4e00\u4e2aprops\u53c2\u6570")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u7279\u522b\u5173\u6ce8this\u3010\u91cd\u70b9\u3011\uff0c\u7c7b\u4e2d\u6240\u6709\u7684\u65b9\u6cd5\u5c40\u90e8\u90fd\u5f00\u542f\u4e86\u4e25\u683c\u6a21\u5f0f\uff0c\u5982\u679c\u76f4\u63a5\u8fdb\u884c\u8c03\u7528\uff0cthis\u5c31\u662fundefined")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u60f3\u8981\u6539\u53d8state,\u9700\u8981\u4f7f\u7528setState\u8fdb\u884c\u4fee\u6539\uff0c\u5982\u679c\u53ea\u662f\u4fee\u6539state\u7684\u90e8\u5206\u5c5e\u6027\uff0c\u5219\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\u5c5e\u6027\uff0c\u8fd9\u4e2a",(0,p.kt)("strong",{parentName:"p"},"\u53ea\u662f\u5408\u5e76\u5e76\u4e0d\u662f\u8986\u76d6"),"\u3002")))),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u5728\u4f18\u5316\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u95ee\u9898")),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"\u7ec4\u4ef6\u4e2d\u7684 render \u65b9\u6cd5\u4e2d\u7684 this \u4e3a\u7ec4\u4ef6\u5b9e\u4f8b\u5bf9\u8c61"),(0,p.kt)("li",{parentName:"ol"},"\u7ec4\u4ef6\u81ea\u5b9a\u4e49\u65b9\u6cd5\u4e2d\u7531\u4e8e\u5f00\u542f\u4e86\u4e25\u683c\u6a21\u5f0f\uff0cthis \u6307\u5411",(0,p.kt)("inlineCode",{parentName:"li"},"undefined"),"\u5982\u4f55\u89e3\u51b3",(0,p.kt)("ol",{parentName:"li"},(0,p.kt)("li",{parentName:"ol"},"\u901a\u8fc7 bind \u6539\u53d8 this \u6307\u5411"),(0,p.kt)("li",{parentName:"ol"},"\u63a8\u8350\u91c7\u7528\u7bad\u5934\u51fd\u6570\uff0c\u7bad\u5934\u51fd\u6570\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"this")," \u6307\u5411"))),(0,p.kt)("li",{parentName:"ol"},"state \u6570\u636e\u4e0d\u80fd\u76f4\u63a5\u4fee\u6539\u6216\u8005\u66f4\u65b0")),(0,p.kt)("h3",{id:"22-setstate"},"2.2 setState()"),(0,p.kt)("p",null,"this.setState()\uff0c\u8be5\u65b9\u6cd5\u63a5\u6536\u4e24\u79cd\u53c2\u6570\uff1a\u5bf9\u8c61\u6216\u51fd\u6570\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"this.setState(partialState, [callback]);\n")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"partialState"),": \u9700\u8981\u66f4\u65b0\u7684\u72b6\u6001\u7684\u90e8\u5206\u5bf9\u8c61"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"callback"),": \u66f4\u65b0\u5b8c\u72b6\u6001\u540e\u7684\u56de\u8c03\u51fd\u6570")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6709\u4e24\u79cd\u5199\u6cd5:")),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u5bf9\u8c61\uff1a\u5373\u60f3\u8981\u4fee\u6539\u7684state"),(0,p.kt)("pre",{parentName:"li"},(0,p.kt)("code",{parentName:"pre",className:"language-js"},"this.setState({\n    isHot: false\n})\n"))),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u51fd\u6570\uff1a\u63a5\u6536\u4e24\u4e2a\u51fd\u6570\uff0c\u7b2c\u4e00\u4e2a\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u5f53\u524dstate\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5f53\u524dprops\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u548c\u76f4\u63a5\u4f20\u9012\u5bf9\u8c61\u53c2\u6570\u662f\u4e00\u6837\u7684\uff0c\u5c31\u662f\u8981\u4fee\u6539\u7684state\uff1b\u7b2c\u4e8c\u4e2a\u51fd\u6570\u53c2\u6570\u662fstate\u6539\u53d8\u540e\u89e6\u53d1\u7684\u56de\u8c03"))),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"this.setState(state => ({count: state.count+1});\n")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u5728\u6267\u884c ",(0,p.kt)("inlineCode",{parentName:"li"},"setState"),"\u64cd\u4f5c\u540e\uff0cReact \u4f1a\u81ea\u52a8\u8c03\u7528\u4e00\u6b21 ",(0,p.kt)("inlineCode",{parentName:"li"},"render()")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"render()")," \u7684\u6267\u884c\u6b21\u6570\u662f 1+n (1 \u4e3a\u521d\u59cb\u5316\u65f6\u7684\u81ea\u52a8\u8c03\u7528\uff0cn \u4e3a\u72b6\u6001\u66f4\u65b0\u7684\u6b21\u6570)")),(0,p.kt)("h3",{id:"23-state\u7684\u7b80\u5199\u65b9\u5f0f"},"2.3 state\u7684\u7b80\u5199\u65b9\u5f0f"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"state\u7684\u8d4b\u503c\u53ef\u4ee5\u4e0d\u518d\u6784\u9020\u51fd\u6570\u4e2d\u8fdb\u884c")),(0,p.kt)("li",{parentName:"ol"},(0,p.kt)("p",{parentName:"li"},"\u4f7f\u7528\u4e86\u7bad\u5934\u51fd\u6570\uff0c\u5c06this\u8fdb\u884c\u4e86\u6539\u53d8"))),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'<body>\n    \x3c!-- \u51c6\u5907\u597d\u4e00\u4e2a\u201c\u5bb9\u5668\u201d --\x3e\n    <div id="test"></div>\n    \n    \x3c!-- \u5f15\u5165react\u6838\u5fc3\u5e93 --\x3e\n    <script type="text/javascript" src="../js/react.development.js"><\/script>\n    \x3c!-- \u5f15\u5165react-dom\uff0c\u7528\u4e8e\u652f\u6301react\u64cd\u4f5cDOM --\x3e\n    <script type="text/javascript" src="../js/react-dom.development.js"><\/script>\n    \x3c!-- \u5f15\u5165babel\uff0c\u7528\u4e8e\u5c06jsx\u8f6c\u4e3ajs --\x3e\n    <script type="text/javascript" src="../js/babel.min.js"><\/script>\n\n    <script type="text/babel">\n        //highlight-start\n        //1.\u521b\u5efa\u7ec4\u4ef6\n        class Weather extends React.Component{\n            //\u521d\u59cb\u5316\u72b6\u6001\n            state = {isHot:false,wind:\'\u5fae\u98ce\'}\n\n            render(){\n                const {isHot,wind} = this.state\n                return <h1 onClick={this.changeWeather}>\u4eca\u5929\u5929\u6c14\u5f88{isHot ? \'\u708e\u70ed\' : \'\u51c9\u723d\'}\uff0c{wind}</h1>\n            }\n\n            //\u81ea\u5b9a\u4e49\u65b9\u6cd5\u2014\u2014\u2014\u2014\u8981\u7528\u8d4b\u503c\u8bed\u53e5\u7684\u5f62\u5f0f+\u7bad\u5934\u51fd\u6570\n            changeWeather = ()=>{\n                const isHot = this.state.isHot\n                this.setState({isHot:!isHot})\n            }\n        }\n        //2.\u6e32\u67d3\u7ec4\u4ef6\u5230\u9875\u9762\n        ReactDOM.render(<Weather/>,document.getElementById(\'test\'))\n        //highlight-end     \n    <\/script>\n</body>\n</html>\n')),(0,p.kt)("p",null,"\u5982\u679c\u60f3\u8981\u5728\u8c03\u7528\u65b9\u6cd5\u7684\u65f6\u5019\u4f20\u9012\u53c2\u6570\uff0c\u6709\u4e24\u4e2a\u65b9\u6cd5\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"<button onClick={(e) => this.deleteRow(id, e)}>Delete Row</button>\n<button onClick={this.deleteRow.bind(this, id)}>Delete Row</button>\n")),(0,p.kt)("p",null,"\u4e0a\u8ff0\u4e24\u79cd\u65b9\u5f0f\u662f\u7b49\u4ef7\u7684\uff0c\u5206\u522b\u901a\u8fc7",(0,p.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions"},"\u7bad\u5934\u51fd\u6570"),"\u548c ",(0,p.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind"},(0,p.kt)("inlineCode",{parentName:"a"},"Function.prototype.bind"))," \u6765\u5b9e\u73b0\u3002"),(0,p.kt)("p",null,"\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0cReact \u7684\u4e8b\u4ef6\u5bf9\u8c61 ",(0,p.kt)("inlineCode",{parentName:"p"},"e")," \u4f1a\u88ab\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u9012\u3002\u5982\u679c\u901a\u8fc7\u7bad\u5934\u51fd\u6570\u7684\u65b9\u5f0f\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u5fc5\u987b\u663e\u5f0f\u7684\u8fdb\u884c\u4f20\u9012\uff0c\u800c\u901a\u8fc7 ",(0,p.kt)("inlineCode",{parentName:"p"},"bind")," \u7684\u65b9\u5f0f\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u4ee5\u53ca\u66f4\u591a\u7684\u53c2\u6570\u5c06\u4f1a\u88ab\u9690\u5f0f\u7684\u8fdb\u884c\u4f20\u9012\u3002"),(0,p.kt)("h3",{id:"24-state-\u7684\u66f4\u65b0\u53ef\u80fd\u662f\u5f02\u6b65\u7684"},"2.4 State \u7684\u66f4\u65b0\u53ef\u80fd\u662f\u5f02\u6b65\u7684"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"React\u63a7\u5236\u4e4b\u5916\u7684\u4e8b\u4ef6\u4e2d\u8c03\u7528setState\u662f\u540c\u6b65\u66f4\u65b0\u7684\u3002\u6bd4\u5982\u539f\u751fjs\u7ed1\u5b9a\u7684\u4e8b\u4ef6\uff0csetTimeout/setInterval\u7b49"),"\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u5927\u90e8\u5206\u5f00\u53d1\u4e2d\u7528\u5230\u7684\u90fd\u662fReact\u5c01\u88c5\u7684\u4e8b\u4ef6\uff0c\u6bd4\u5982onChange\u3001onClick\u3001onTouchMove\u7b49\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u4e2d\u7684setState\u90fd\u662f\u5f02\u6b65\u5904\u7406\u7684\u3002")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"//1.\u521b\u5efa\u7ec4\u4ef6\nclass St extends React.Component{\n    //\u53ef\u4ee5\u76f4\u63a5\u5bf9\u5176\u8fdb\u884c\u8d4b\u503c\n    state = {isHot:10};\n    render(){ //\u8fd9\u4e2aThis\u4e5f\u662f\u5b9e\u4f8b\u5bf9\u8c61\n        return <h1 onClick = {this.dem}>\u70b9\u51fb\u4e8b\u4ef6</h1> \n    }\n//\u7bad\u5934\u51fd\u6570 [\u81ea\u5b9a\u4e49\u65b9\u6cd5---\x3e\u8981\u7528\u8d4b\u503c\u8bed\u53e5\u7684\u5f62\u5f0f+\u7bad\u5934\u51fd\u6570]\n    dem = () =>{\n        //\u4fee\u6539isHot\n        this.setState({ isHot: this.state.isHot + 1})\n        console.log(this.state.isHot);\n    }\n}\n")),(0,p.kt)("p",null,"\u4e0a\u9762\u7684\u6848\u4f8b\u4e2d\u9884\u671fsetState\u4f7f\u5f97isHot\u53d8\u6210\u4e8611\uff0c\u8f93\u51fa\u4e5f\u5e94\u8be5\u662f11\u3002\u7136\u800c\u5728\u63a7\u5236\u53f0\u6253\u5370\u7684\u5374\u662f10\uff0c\u4e5f\u5c31\u662f\u5e76\u6ca1\u6709\u5bf9\u5176\u8fdb\u884c\u66f4\u65b0\u3002\u8fd9\u662f\u56e0\u4e3a\u5f02\u6b65\u7684\u8fdb\u884c\u4e86\u5904\u7406\uff0c\u5728\u8f93\u51fa\u7684\u65f6\u5019\u8fd8\u6ca1\u6709\u5bf9\u5176\u8fdb\u884c\u5904\u7406\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'document.getElementById("test").addEventListener("click",()=>{\n        this.setState({isHot: this.state.isHot + 1});\n        console.log(this.state.isHot);\n    })\n}\n')),(0,p.kt)("p",null,"\u4f46\u662f\u901a\u8fc7\u8fd9\u4e2a\u539f\u751fJS\u7684\uff0c\u53ef\u4ee5\u53d1\u73b0\uff0c\u63a7\u5236\u53f0\u6253\u5370\u7684\u5c31\u662f11\uff0c\u4e5f\u5c31\u662f\u5df2\u7ecf\u5bf9\u5176\u8fdb\u884c\u4e86\u5904\u7406\u3002\u4e5f\u5c31\u662f\u8fdb\u884c\u4e86\u540c\u6b65\u7684\u66f4\u65b0\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"React\u600e\u4e48\u8c03\u7528\u540c\u6b65\u6216\u8005\u5f02\u6b65\u7684\u5462\uff1f")),(0,p.kt)("p",null,"\u5728 React \u7684 setState \u51fd\u6570\u5b9e\u73b0\u4e2d\uff0c\u4f1a\u6839\u636e\u4e00\u4e2a\u53d8\u91cf isBatchingUpdates \u5224\u65ad\u662f\u76f4\u63a5\u66f4\u65b0 this.state \u8fd8\u662f\u653e\u5230\u961f\u5217\u4e2d\u5ef6\u65f6\u66f4\u65b0\uff0c\u800c isBatchingUpdates \u9ed8\u8ba4\u662f false\uff0c\u8868\u793a setState \u4f1a\u540c\u6b65\u66f4\u65b0 this.state\uff1b\u4f46\u662f\uff0c\u6709\u4e00\u4e2a\u51fd\u6570 batchedUpdates\uff0c\u8be5\u51fd\u6570\u4f1a\u628a isBatchingUpdates \u4fee\u6539\u4e3a true\uff0c\u800c\u5f53 React \u5728\u8c03\u7528\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e4b\u524d\u5c31\u4f1a\u5148\u8c03\u7528\u8fd9\u4e2a batchedUpdates\u5c06isBatchingUpdates\u4fee\u6539\u4e3atrue\uff0c\u8fd9\u6837\u7531 React \u63a7\u5236\u7684\u4e8b\u4ef6\u5904\u7406\u8fc7\u7a0b setState \u4e0d\u4f1a\u540c\u6b65\u66f4\u65b0 this.state\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u5982\u679c\u662f\u540c\u6b65\u66f4\u65b0\uff0c\u6bcf\u4e00\u4e2asetState\u5bf9\u8c03\u7528\u4e00\u4e2arender\uff0c\u5e76\u4e14\u5982\u679c\u591a\u6b21\u8c03\u7528setState\u4f1a\u4ee5\u6700\u540e\u8c03\u7528\u7684\u4e3a\u51c6\uff0c\u524d\u9762\u7684\u5c06\u4f1a\u4f5c\u5e9f\uff1b\u5982\u679c\u662f\u5f02\u6b65\u66f4\u65b0\uff0c\u591a\u4e2asetSate\u4f1a\u7edf\u4e00\u8c03\u7528\u4e00\u6b21render")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"dem = () =>{\n    this.setState({\n        isHot:  1,\n        cont:444\n    })\n    this.setState({\n        isHot: this.state.isHot + 1\n\n    })\n    this.setState({\n        isHot:  888,\n        cont:888\n    })\n}\n")),(0,p.kt)("p",null,"\u4e0a\u9762\u7684\u6700\u540e\u4f1a\u8f93\u51fa\uff1aisHot\u662f888\uff0ccont\u662f888"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"}," dem = ()=> {  \n    this.setState({\n        isHot: this.state.isHot + 1,\n\n    })\n    this.setState({\n        isHot: this.state.isHot + 1,\n\n    })\n    this.setState({\n        isHot: this.state.isHot + 888\n    })\n}\n")),(0,p.kt)("p",null,"\u521d\u59cbisHot\u4e3a10\uff0c\u6700\u540eisHot\u8f93\u51fa\u4e3a898\uff0c\u4e5f\u5c31\u662f\u524d\u9762\u4e24\u4e2a\u90fd\u6ca1\u6709\u6267\u884c\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff01\uff01\u8fd9\u662f\u5f02\u6b65\u66f4\u65b0\u624d\u6709\u7684\uff0c\u5982\u679c\u540c\u6b65\u66f4\u65b0\uff0c\u6bcf\u4e00\u6b21\u90fd\u4f1a\u8c03\u7528render\uff0c\u8fd9\u6837\u6bcf\u4e00\u6b21\u66f4\u65b0\u90fd\u4f1a ")),(0,p.kt)("h3",{id:"25-\u5f02\u6b65\u66f4\u65b0\u89e3\u51b3\u65b9\u6848"},"2.5 \u5f02\u6b65\u66f4\u65b0\u89e3\u51b3\u65b9\u6848"),(0,p.kt)("p",null,"\u51fa\u4e8e\u6027\u80fd\u8003\u8651\uff0cReact \u53ef\u80fd\u4f1a\u628a\u591a\u4e2a ",(0,p.kt)("inlineCode",{parentName:"p"},"setState()")," \u8c03\u7528\u5408\u5e76\u6210\u4e00\u4e2a\u8c03\u7528\u3002"),(0,p.kt)("p",null,"\u56e0\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"this.props")," \u548c ",(0,p.kt)("inlineCode",{parentName:"p"},"this.state")," \u53ef\u80fd\u4f1a\u5f02\u6b65\u66f4\u65b0\uff0c\u6240\u4ee5\u4f60\u4e0d\u8981\u4f9d\u8d56\u4ed6\u4eec\u7684\u503c\u6765\u66f4\u65b0\u4e0b\u4e00\u4e2a\u72b6\u6001\u3002"),(0,p.kt)("p",null,"\u4f8b\u5982\uff0c\u6b64\u4ee3\u7801\u53ef\u80fd\u4f1a\u65e0\u6cd5\u66f4\u65b0\u8ba1\u6570\u5668\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"// Wrong\nthis.setState({\n  counter: this.state.counter + this.props.increment,\n});\n")),(0,p.kt)("p",null,"\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u8ba9 ",(0,p.kt)("inlineCode",{parentName:"p"},"setState()")," \u63a5\u6536\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u8fd9\u4e2a\u51fd\u6570\u7528\u4e0a\u4e00\u4e2a state \u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5c06\u6b64\u6b21\u66f4\u65b0\u88ab\u5e94\u7528\u65f6\u7684 props \u505a\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"// Correct\nthis.setState((state, props) => ({\n  counter: state.counter + props.increment\n}));\n")),(0,p.kt)("p",null,"\u4e0a\u9762\u4f7f\u7528\u4e86",(0,p.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions"},"\u7bad\u5934\u51fd\u6570"),"\uff0c\u4e0d\u8fc7\u4f7f\u7528\u666e\u901a\u7684\u51fd\u6570\u4e5f\u540c\u6837\u53ef\u4ee5\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"// Correct\nthis.setState(function(state, props) {\n  return {\n    counter: state.counter + props.increment\n  };\n});\n")),(0,p.kt)("h3",{id:"26-\u6570\u636e\u662f\u5411\u4e0b\u6d41\u52a8\u7684"},"2.6 \u6570\u636e\u662f\u5411\u4e0b\u6d41\u52a8\u7684"),(0,p.kt)("p",null,"\u4e0d\u7ba1\u662f\u7236\u7ec4\u4ef6\u6216\u662f\u5b50\u7ec4\u4ef6\u90fd\u65e0\u6cd5\u77e5\u9053\u67d0\u4e2a\u7ec4\u4ef6\u662f\u6709\u72b6\u6001\u7684\u8fd8\u662f\u65e0\u72b6\u6001\u7684\uff0c\u5e76\u4e14\u5b83\u4eec\u4e5f\u5e76\u4e0d\u5173\u5fc3\u5b83\u662f\u51fd\u6570\u7ec4\u4ef6\u8fd8\u662f class \u7ec4\u4ef6\u3002"),(0,p.kt)("p",null,"\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u79f0 state \u4e3a\u5c40\u90e8\u7684\u6216\u662f\u5c01\u88c5\u7684\u7684\u539f\u56e0\u3002\u9664\u4e86\u62e5\u6709\u5e76\u8bbe\u7f6e\u4e86\u5b83\u7684\u7ec4\u4ef6\uff0c\u5176\u4ed6\u7ec4\u4ef6\u90fd\u65e0\u6cd5\u8bbf\u95ee\u3002"),(0,p.kt)("p",null,"\u7ec4\u4ef6\u53ef\u4ee5\u9009\u62e9\u628a\u5b83\u7684 state \u4f5c\u4e3a props \u5411\u4e0b\u4f20\u9012\u5230\u5b83\u7684\u5b50\u7ec4\u4ef6\u4e2d\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"<FormattedDate date={this.state.date} />\n")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"FormattedDate")," \u7ec4\u4ef6\u4f1a\u5728\u5176 props \u4e2d\u63a5\u6536\u53c2\u6570 ",(0,p.kt)("inlineCode",{parentName:"p"},"date"),"\uff0c\u4f46\u662f\u7ec4\u4ef6\u672c\u8eab\u65e0\u6cd5\u77e5\u9053\u5b83\u662f\u6765\u81ea\u4e8e ",(0,p.kt)("inlineCode",{parentName:"p"},"Clock")," \u7684 state\uff0c\u6216\u662f ",(0,p.kt)("inlineCode",{parentName:"p"},"Clock")," \u7684 props\uff0c\u8fd8\u662f\u624b\u52a8\u8f93\u5165\u7684\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"function FormattedDate(props) {\n  return <h2>It is {props.date.toLocaleTimeString()}.</h2>;\n}\n")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://codepen.io/gaearon/pen/zKRqNB?editors=0010"},(0,p.kt)("strong",{parentName:"a"},"\u5728 CodePen \u4e0a\u5c1d\u8bd5"))),(0,p.kt)("p",null,"\u8fd9\u901a\u5e38\u4f1a\u88ab\u53eb\u505a\u201c\u81ea\u4e0a\u800c\u4e0b\u201d\u6216\u662f\u201c\u5355\u5411\u201d\u7684\u6570\u636e\u6d41\u3002\u4efb\u4f55\u7684 state \u603b\u662f\u6240\u5c5e\u4e8e\u7279\u5b9a\u7684\u7ec4\u4ef6\uff0c\u800c\u4e14\u4ece\u8be5 state \u6d3e\u751f\u7684\u4efb\u4f55\u6570\u636e\u6216 UI \u53ea\u80fd\u5f71\u54cd\u6811\u4e2d\u201c\u4f4e\u4e8e\u201d\u5b83\u4eec\u7684\u7ec4\u4ef6\u3002"),(0,p.kt)("p",null,"\u5982\u679c\u4f60\u628a\u4e00\u4e2a\u4ee5\u7ec4\u4ef6\u6784\u6210\u7684\u6811\u60f3\u8c61\u6210\u4e00\u4e2a props \u7684\u6570\u636e\u7011\u5e03\u7684\u8bdd\uff0c\u90a3\u4e48\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u7684 state \u5c31\u50cf\u662f\u5728\u4efb\u610f\u4e00\u70b9\u4e0a\u7ed9\u7011\u5e03\u589e\u52a0\u989d\u5916\u7684\u6c34\u6e90\uff0c\u4f46\u662f\u5b83\u53ea\u80fd\u5411\u4e0b\u6d41\u52a8\u3002"),(0,p.kt)("p",null,"\u4e3a\u4e86\u8bc1\u660e\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u662f\u771f\u6b63\u72ec\u7acb\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6e32\u67d3\u4e09\u4e2a ",(0,p.kt)("inlineCode",{parentName:"p"},"Clock")," \u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"App")," \u7ec4\u4ef6\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"function App() {\n  return (\n    <div>\n      <Clock />      \n      <Clock />      \n      <Clock />    \n     </div>\n  );\n}\n")),(0,p.kt)("p",null,(0,p.kt)("a",{parentName:"p",href:"https://codepen.io/gaearon/pen/vXdGmd?editors=0010"},(0,p.kt)("strong",{parentName:"a"},"\u5728 CodePen \u4e0a\u5c1d\u8bd5"))),(0,p.kt)("p",null,"\u6bcf\u4e2a ",(0,p.kt)("inlineCode",{parentName:"p"},"Clock")," \u7ec4\u4ef6\u90fd\u4f1a\u5355\u72ec\u8bbe\u7f6e\u5b83\u81ea\u5df1\u7684\u8ba1\u65f6\u5668\u5e76\u4e14\u66f4\u65b0\u5b83\u3002"),(0,p.kt)("p",null,"\u5728 React \u5e94\u7528\u4e2d\uff0c\u7ec4\u4ef6\u662f\u6709\u72b6\u6001\u7ec4\u4ef6\u8fd8\u662f\u65e0\u72b6\u6001\u7ec4\u4ef6\u5c5e\u4e8e\u7ec4\u4ef6\u5b9e\u73b0\u7684\u7ec6\u8282\uff0c\u5b83\u53ef\u80fd\u4f1a\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u800c\u6539\u53d8\u3002\u4f60\u53ef\u4ee5\u5728\u6709\u72b6\u6001\u7684\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u65e0\u72b6\u6001\u7684\u7ec4\u4ef6\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002"),(0,p.kt)("h2",{id:"3props"},"3.props"),(0,p.kt)("h3",{id:"31-\u57fa\u672c\u4f7f\u7528"},"3.1 \u57fa\u672c\u4f7f\u7528"),(0,p.kt)("p",null,"\u4e0e",(0,p.kt)("inlineCode",{parentName:"p"},"state"),"\u4e0d\u540c\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"state"),"\u662f\u7ec4\u4ef6\u81ea\u8eab\u7684\u72b6\u6001\uff0c\u800c",(0,p.kt)("inlineCode",{parentName:"p"},"props"),"\u5219\u662f\u5916\u90e8\u4f20\u5165\u7684\u6570\u636e"),(0,p.kt)("p",null,"\u57fa\u672c\u4f7f\u7528\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'<body>\n    <div id = "div"></div>\n</body>\n<script type="text/babel">\n    class Person extends React.Component{\n        render(){\n          const { name, age, sex } = this.props\n            return (\n                <ul>\n                  <li>\u59d3\u540d\uff1a{name}</li>\n                  <li>\u6027\u522b\uff1a{sex}</li>\n                  <li>\u5e74\u9f84\uff1a{age + 1}</li>\n                </ul>\n          )\n        }\n    }\n    //\u4f20\u9012\u6570\u636e\n    ReactDOM.render(<Person name="tom" age = {41} sex="\u7537"/>,document.getElementById("div"));\n<\/script>\n')),(0,p.kt)("p",null,"\u5982\u679c\u4f20\u9012\u7684\u6570\u636e\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u66f4\u52a0\u7b80\u4fbf\u7684\u4f7f\u7528"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'<script type="text/babel">\n    class Person extends React.Component{\n        render(){\n            return (\n                <ul>\n                    <li>{this.props.name}</li>\n                    <li>{this.props.age}</li>\n                    <li>{this.props.sex}</li>\n                </ul>\n            )\n        }\n    }\n    const p = {name:"\u5f20\u4e09",age:"18",sex:"\u5973"}\n   ReactDOM.render(<Person {...p}/>,document.getElementById("div"));\n<\/script>\n')),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"...")," \u8fd9\u4e2a\u7b26\u53f7\u6050\u6015\u90fd\u4e0d\u964c\u751f\uff0c\u8fd9\u4e2a\u662f\u4e00\u4e2a\u5c55\u5f00\u8fd0\u7b97\u7b26\uff0c\u4e3b\u8981\u7528\u6765\u5c55\u5f00\u6570\u7ec4\uff0c\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"arr = [1,2,3];\narr1 = [4,5,6];\narr2 = [...arr,...arr1];  //arr2 = [1,2,3,4,5,6]\n")),(0,p.kt)("p",null,"\u4f46\u662f\u4ed6\u8fd8\u6709\u5176\u4ed6\u7684\u7528\u6cd5\uff1a"),(0,p.kt)("p",null,"1.\u590d\u5236\u4e00\u4e2a\u5bf9\u8c61\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61{...\u5bf9\u8c61\u540d}\u3002\u6b64\u65f6\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u5e76\u6ca1\u6709\u4ec0\u4e48\u8054\u7cfb\u4e86"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'const p1 = {name:"\u5f20\u4e09",age:"18",sex:"\u5973"}\nconst p2 = {...p1};\np1.name = "sss";\nconsole.log(p2)  //{name:"\u5f20\u4e09",age:"18",sex:"\u5973"}\n')),(0,p.kt)("p",null,"2.\u5728\u590d\u5236\u7684\u65f6\u5019\uff0c\u5408\u5e76\u5176\u4e2d\u7684\u5c5e\u6027"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},' const p1 = {name:"\u5f20\u4e09",age:"18",sex:"\u5973"}\n const p2 = {...p1,name : "111",hua:"ss"};\n p1.name = "sss";\n console.log(p2)  //{name: "111", age: "18", sex: "\u5973",hua:"ss"}\n')),(0,p.kt)("admonition",{type:"danger"},(0,p.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,p.kt)("strong",{parentName:"mdxAdmonitionTitle"},"\u6ce8\u610f\uff01\uff01")," ",(0,p.kt)("strong",{parentName:"mdxAdmonitionTitle"},"{...P}\u5e76\u4e0d\u80fd\u5c55\u5f00\u4e00\u4e2a\u5bf9\u8c61")),(0,p.kt)("p",{parentName:"admonition"},(0,p.kt)("strong",{parentName:"p"},"props\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\uff0c\u662f\u56e0\u4e3ababel+react\u4f7f\u5f97{..p}\u53ef\u4ee5\u5c55\u5f00\u5bf9\u8c61\uff0c\u4f46\u662f\u53ea\u6709\u5728\u6807\u7b7e\u4e2d\u624d\u80fd\u4f7f\u7528"))),(0,p.kt)("h3",{id:"32-props\u9650\u5236"},"3.2 props\u9650\u5236"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a"),(0,p.kt)("p",{parentName:"blockquote"},"\u81ea React v15.5 \u8d77\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"React.PropTypes")," \u5df2\u79fb\u5165\u53e6\u4e00\u4e2a\u5305\u4e2d\u3002\u8bf7\u4f7f\u7528 ",(0,p.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/prop-types"},(0,p.kt)("inlineCode",{parentName:"a"},"prop-types")," \u5e93")," \u4ee3\u66ff\u3002"),(0,p.kt)("p",{parentName:"blockquote"},"\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a ",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/blog/2017/04/07/react-v15.5.0.html#migrating-from-reactproptypes"},"codemod \u811a\u672c"),"\u6765\u505a\u81ea\u52a8\u8f6c\u6362\u3002")),(0,p.kt)("p",null,"\u968f\u7740\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e0d\u65ad\u589e\u957f\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u7c7b\u578b\u68c0\u67e5\u6355\u83b7\u5927\u91cf\u9519\u8bef\u3002\u5bf9\u4e8e\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\u6765\u8bf4\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,p.kt)("a",{parentName:"p",href:"https://flow.org/"},"Flow")," \u6216 ",(0,p.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript")," \u7b49 JavaScript \u6269\u5c55\u6765\u5bf9\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u505a\u7c7b\u578b\u68c0\u67e5\u3002\u4f46\u5373\u4f7f\u4f60\u4e0d\u4f7f\u7528\u8fd9\u4e9b\u6269\u5c55\uff0cReact \u4e5f\u5185\u7f6e\u4e86\u4e00\u4e9b\u7c7b\u578b\u68c0\u67e5\u7684\u529f\u80fd\u3002\u8981\u5728\u7ec4\u4ef6\u7684 props \u4e0a\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u4f60\u53ea\u9700\u914d\u7f6e\u7279\u5b9a\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"propTypes")," \u5c5e\u6027\uff1a"),(0,p.kt)("p",null,"react\u5bf9\u6b64\u63d0\u4f9b\u4e86\u76f8\u5e94\u7684\u89e3\u51b3\u65b9\u6cd5\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"propTypes:\u7c7b\u578b\u68c0\u67e5\uff0c\u8fd8\u53ef\u4ee5\u9650\u5236\u4e0d\u80fd\u4e3a\u7a7a"),(0,p.kt)("li",{parentName:"ul"},"defaultProps\uff1a\u9ed8\u8ba4\u503c")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u4ece ES2022 \u5f00\u59cb\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728 React \u7c7b\u7ec4\u4ef6\u4e2d\u5c06 ",(0,p.kt)("inlineCode",{parentName:"p"},"defaultProps")," \u58f0\u660e\u4e3a\u9759\u6001\u5c5e\u6027\u3002\u6b32\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,p.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields#public_static_fields"},"class public static fields"),"\u3002\u8fd9\u79cd\u73b0\u4ee3\u8bed\u6cd5\u9700\u8981\u6dfb\u52a0\u989d\u5916\u7684\u7f16\u8bd1\u6b65\u9aa4\u624d\u80fd\u5728\u8001\u7248\u6d4f\u89c8\u5668\u4e2d\u5de5\u4f5c\u3002")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"\n\x3c!-- \u51c6\u5907\u597d\u4e00\u4e2a\u201c\u5bb9\u5668\u201d --\x3e\n<div id=\"test1\"></div>\n<div id=\"test2\"></div>\n<div id=\"test3\"></div>\n\n<script type=\"text/babel\">\n    //\u521b\u5efa\u7ec4\u4ef6\n    class Person extends React.Component{\n        render(){\n            // console.log(this);\n            const {name,age,sex} = this.props\n            //props\u662f\u53ea\u8bfb\u7684\n            //this.props.name = 'jack' //\u6b64\u884c\u4ee3\u7801\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3aprops\u662f\u53ea\u8bfb\u7684\n            return (\n                <ul>\n                    <li>\u59d3\u540d\uff1a{name}</li>\n                    <li>\u6027\u522b\uff1a{sex}</li>\n                    <li>\u5e74\u9f84\uff1a{age+1}</li>\n                </ul>\n            )\n        }\n    }\n    //\u5bf9\u6807\u7b7e\u5c5e\u6027\u8fdb\u884c\u7c7b\u578b\u3001\u5fc5\u8981\u6027\u7684\u9650\u5236\n    Person.propTypes = {\n        name:PropTypes.string.isRequired, //\u9650\u5236name\u5fc5\u4f20\uff0c\u4e14\u4e3a\u5b57\u7b26\u4e32\n        sex:PropTypes.string,//\u9650\u5236sex\u4e3a\u5b57\u7b26\u4e32\n        age:PropTypes.number,//\u9650\u5236age\u4e3a\u6570\u503c\n        speak:PropTypes.func,//\u9650\u5236speak\u4e3a\u51fd\u6570\n    }\n    //\u6307\u5b9a\u9ed8\u8ba4\u6807\u7b7e\u5c5e\u6027\u503c\n    Person.defaultProps = {\n        sex:'\u7537',//sex\u9ed8\u8ba4\u503c\u4e3a\u7537\n        age:18 //age\u9ed8\u8ba4\u503c\u4e3a18\n    }\n    //\u6e32\u67d3\u7ec4\u4ef6\u5230\u9875\u9762\n    ReactDOM.render(<Person name={100} speak={speak}/>,document.getElementById('test1'))\n    ReactDOM.render(<Person name=\"tom\" age={18} sex=\"\u5973\"/>,document.getElementById('test2'))\n\n    const p = {name:'\u8001\u5218',age:18,sex:'\u5973'}\n    // console.log('@',...p);\n    // ReactDOM.render(<Person name={p.name} age={p.age} sex={p.sex}/>,document.getElementById('test3'))\n    ReactDOM.render(<Person {...p}/>,document.getElementById('test3'))\n\n    function speak(){\n        console.log('\u6211\u8bf4\u8bdd\u4e86');\n    }\n<\/script>\n")),(0,p.kt)("p",null,"\u5f53\u4f20\u5165\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"prop")," \u503c\u7c7b\u578b\u4e0d\u6b63\u786e\u65f6\uff0cJavaScript \u63a7\u5236\u53f0\u5c06\u4f1a\u663e\u793a\u8b66\u544a\u3002\u51fa\u4e8e\u6027\u80fd\u65b9\u9762\u7684\u8003\u8651\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"propTypes")," \u4ec5\u5728\u5f00\u53d1\u6a21\u5f0f\u4e0b\u8fdb\u884c\u68c0\u67e5\u3002"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"defaultProps")," \u7528\u4e8e\u786e\u4fdd ",(0,p.kt)("inlineCode",{parentName:"p"},"this.props.sex")," \u5728\u7236\u7ec4\u4ef6\u6ca1\u6709\u6307\u5b9a\u5176\u503c\u65f6\uff0c\u6709\u4e00\u4e2a\u9ed8\u8ba4\u503c\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"propTypes")," \u7c7b\u578b\u68c0\u67e5\u53d1\u751f\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"defaultProps")," \u8d4b\u503c\u540e\uff0c\u6240\u4ee5\u7c7b\u578b\u68c0\u67e5\u4e5f\u9002\u7528\u4e8e ",(0,p.kt)("inlineCode",{parentName:"p"},"defaultProps"),"\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"PropTypes")),(0,p.kt)("p",null,"\u4ee5\u4e0b\u63d0\u4f9b\u4e86\u4f7f\u7528\u4e0d\u540c\u9a8c\u8bc1\u5668\u7684\u4f8b\u5b50\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"import PropTypes from 'prop-types';\n\nMyComponent.propTypes = {\n  // \u4f60\u53ef\u4ee5\u5c06\u5c5e\u6027\u58f0\u660e\u4e3a JS \u539f\u751f\u7c7b\u578b\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\n  // \u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ef\u9009\u7684\u3002\n  optionalArray: PropTypes.array,\n  optionalBool: PropTypes.bool,\n  optionalFunc: PropTypes.func,\n  optionalNumber: PropTypes.number,\n  optionalObject: PropTypes.object,\n  optionalString: PropTypes.string,\n  optionalSymbol: PropTypes.symbol,\n\n  // \u4efb\u4f55\u53ef\u88ab\u6e32\u67d3\u7684\u5143\u7d20\uff08\u5305\u62ec\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5143\u7d20\u6216\u6570\u7ec4\uff09\n  // (\u6216 Fragment) \u4e5f\u5305\u542b\u8fd9\u4e9b\u7c7b\u578b\u3002\n  optionalNode: PropTypes.node,\n\n  // \u4e00\u4e2a React \u5143\u7d20\u3002\n  optionalElement: PropTypes.element,\n\n  // \u4e00\u4e2a React \u5143\u7d20\u7c7b\u578b\uff08\u5373\uff0cMyComponent\uff09\u3002\n  optionalElementType: PropTypes.elementType,\n\n  // \u4f60\u4e5f\u53ef\u4ee5\u58f0\u660e prop \u4e3a\u7c7b\u7684\u5b9e\u4f8b\uff0c\u8fd9\u91cc\u4f7f\u7528\n  // JS \u7684 instanceof \u64cd\u4f5c\u7b26\u3002\n  optionalMessage: PropTypes.instanceOf(Message),\n\n  // \u4f60\u53ef\u4ee5\u8ba9\u4f60\u7684 prop \u53ea\u80fd\u662f\u7279\u5b9a\u7684\u503c\uff0c\u6307\u5b9a\u5b83\u4e3a\n  // \u679a\u4e3e\u7c7b\u578b\u3002\n  optionalEnum: PropTypes.oneOf(['News', 'Photos']),\n\n  // \u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u662f\u51e0\u79cd\u7c7b\u578b\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u7c7b\u578b\n  optionalUnion: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.instanceOf(Message)\n  ]),\n\n  // \u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u6570\u7ec4\u7531\u67d0\u4e00\u7c7b\u578b\u7684\u5143\u7d20\u7ec4\u6210\n  optionalArrayOf: PropTypes.arrayOf(PropTypes.number),\n\n  // \u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u5bf9\u8c61\u7531\u67d0\u4e00\u7c7b\u578b\u7684\u503c\u7ec4\u6210\n  optionalObjectOf: PropTypes.objectOf(PropTypes.number),\n\n  // \u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u5bf9\u8c61\u7531\u7279\u5b9a\u7684\u7c7b\u578b\u503c\u7ec4\u6210\n  optionalObjectWithShape: PropTypes.shape({\n    color: PropTypes.string,\n    fontSize: PropTypes.number\n  }),\n\n  // \u5177\u6709\u989d\u5916\u5c5e\u6027\u8b66\u544a\u7684\u5bf9\u8c61\n  optionalObjectWithStrictShape: PropTypes.exact({\n    name: PropTypes.string,\n    quantity: PropTypes.number\n  }),\n\n  // \u4f60\u53ef\u4ee5\u5728\u4efb\u4f55 PropTypes \u5c5e\u6027\u540e\u9762\u52a0\u4e0a `isRequired` \uff0c\u786e\u4fdd\n  // \u8fd9\u4e2a prop \u6ca1\u6709\u88ab\u63d0\u4f9b\u65f6\uff0c\u4f1a\u6253\u5370\u8b66\u544a\u4fe1\u606f\u3002\n  requiredFunc: PropTypes.func.isRequired,\n\n  // \u4efb\u610f\u7c7b\u578b\u7684\u5fc5\u9700\u6570\u636e\n  requiredAny: PropTypes.any.isRequired,\n\n  // \u4f60\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u5668\u3002\u5b83\u5728\u9a8c\u8bc1\u5931\u8d25\u65f6\u5e94\u8fd4\u56de\u4e00\u4e2a Error \u5bf9\u8c61\u3002\n  // \u8bf7\u4e0d\u8981\u4f7f\u7528 `console.warn` \u6216\u629b\u51fa\u5f02\u5e38\uff0c\u56e0\u4e3a\u8fd9\u5728 `oneOfType` \u4e2d\u4e0d\u4f1a\u8d77\u4f5c\u7528\u3002\n  customProp: function(props, propName, componentName) {\n    if (!/matchme/.test(props[propName])) {\n      return new Error(\n        'Invalid prop `' + propName + '` supplied to' +\n        ' `' + componentName + '`. Validation failed.'\n      );\n    }\n  },\n\n  // \u4f60\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 `arrayOf` \u6216 `objectOf` \u9a8c\u8bc1\u5668\u3002\n  // \u5b83\u5e94\u8be5\u5728\u9a8c\u8bc1\u5931\u8d25\u65f6\u8fd4\u56de\u4e00\u4e2a Error \u5bf9\u8c61\u3002\n  // \u9a8c\u8bc1\u5668\u5c06\u9a8c\u8bc1\u6570\u7ec4\u6216\u5bf9\u8c61\u4e2d\u7684\u6bcf\u4e2a\u503c\u3002\u9a8c\u8bc1\u5668\u7684\u524d\u4e24\u4e2a\u53c2\u6570\n  // \u7b2c\u4e00\u4e2a\u662f\u6570\u7ec4\u6216\u5bf9\u8c61\u672c\u8eab\n  // \u7b2c\u4e8c\u4e2a\u662f\u4ed6\u4eec\u5f53\u524d\u7684\u952e\u3002\n  customArrayProp: PropTypes.arrayOf(function(propValue, key, componentName, location, propFullName) {\n    if (!/matchme/.test(propValue[key])) {\n      return new Error(\n        'Invalid prop `' + propFullName + '` supplied to' +\n        ' `' + componentName + '`. Validation failed.'\n      );\n    }\n  })\n};\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u9650\u5236\u5355\u4e2a\u5143\u7d20")),(0,p.kt)("p",null,"\u4f60\u53ef\u4ee5\u901a\u8fc7 ",(0,p.kt)("inlineCode",{parentName:"p"},"PropTypes.element")," \u6765\u786e\u4fdd\u4f20\u9012\u7ed9\u7ec4\u4ef6\u7684 children \u4e2d\u53ea\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"import PropTypes from 'prop-types';\n\nclass MyComponent extends React.Component {\n  render() {\n    // \u8fd9\u5fc5\u987b\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u5426\u5219\u63a7\u5236\u53f0\u4f1a\u6253\u5370\u8b66\u544a\u3002\n    const children = this.props.children;\n    return (\n      <div>\n        {children}\n      </div>\n    );\n  }\n}\n\nMyComponent.propTypes = {\n  children: PropTypes.element.isRequired\n};\n")),(0,p.kt)("h3",{id:"33-\u7b80\u5199\u65b9\u5f0f"},"3.3 \u7b80\u5199\u65b9\u5f0f"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'\x3c!-- \u51c6\u5907\u597d\u4e00\u4e2a\u201c\u5bb9\u5668\u201d --\x3e\n<div id="test1"></div>\n<div id="test2"></div>\n<div id="test3"></div>\n\n\n<script type="text/babel">\n    //\u521b\u5efa\u7ec4\u4ef6\n    class Person extends React.Component{\n\n        constructor(props){\n            //highlight-next-line\n            //\u6784\u9020\u5668\u662f\u5426\u63a5\u6536props\uff0c\u662f\u5426\u4f20\u9012\u7ed9super\uff0c\u53d6\u51b3\u4e8e\uff1a\u662f\u5426\u5e0c\u671b\u5728\u6784\u9020\u5668\u4e2d\u901a\u8fc7this\u8bbf\u95eeprops\n            // console.log(props);\n            super(props)\n            console.log(\'constructor\',this.props);\n        }\n        //highlight-start\n        //\u5bf9\u6807\u7b7e\u5c5e\u6027\u8fdb\u884c\u7c7b\u578b\u3001\u5fc5\u8981\u6027\u7684\u9650\u5236\n        static propTypes = {\n            name:PropTypes.string.isRequired, //\u9650\u5236name\u5fc5\u4f20\uff0c\u4e14\u4e3a\u5b57\u7b26\u4e32\n            sex:PropTypes.string,//\u9650\u5236sex\u4e3a\u5b57\u7b26\u4e32\n            age:PropTypes.number,//\u9650\u5236age\u4e3a\u6570\u503c\n        }\n//highlight-end\n\n//highlight-start\n        //\u6307\u5b9a\u9ed8\u8ba4\u6807\u7b7e\u5c5e\u6027\u503c\n        static defaultProps = {\n            sex:\'\u7537\',//sex\u9ed8\u8ba4\u503c\u4e3a\u7537\n            age:18 //age\u9ed8\u8ba4\u503c\u4e3a18\n        }\n//highlight-end\n\n        render(){\n            // console.log(this);\n            //highlight-next-line\n            const {name,age,sex} = this.props\n            //props\u662f\u53ea\u8bfb\u7684\n            //this.props.name = \'jack\' //\u6b64\u884c\u4ee3\u7801\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3aprops\u662f\u53ea\u8bfb\u7684\n            return (\n                <ul>\n                    <li>\u59d3\u540d\uff1a{name}</li>\n                    <li>\u6027\u522b\uff1a{sex}</li>\n                    <li>\u5e74\u9f84\uff1a{age+1}</li>\n                </ul>\n            )\n        }\n    }\n\n    //\u6e32\u67d3\u7ec4\u4ef6\u5230\u9875\u9762\n    ReactDOM.render(<Person name="jerry"/>,document.getElementById(\'test1\'))\n<\/script>\n')),(0,p.kt)("p",null,"\u5728\u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7 ",(0,p.kt)("inlineCode",{parentName:"p"},"this.props"),"\u6765\u83b7\u53d6\u503c \u7c7b\u5f0f\u7ec4\u4ef6\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"props"),":"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"\u901a\u8fc7\u5728\u7ec4\u4ef6\u6807\u7b7e\u4e0a\u4f20\u9012\u503c\uff0c\u5728\u7ec4\u4ef6\u4e2d\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u6240\u4f20\u9012\u7684\u503c"),(0,p.kt)("li",{parentName:"ol"},"\u5728\u6784\u9020\u5668\u91cc\u7684",(0,p.kt)("inlineCode",{parentName:"li"},"props"),"\u53c2\u6570\u91cc\u53ef\u4ee5\u83b7\u53d6\u5230 ",(0,p.kt)("inlineCode",{parentName:"li"},"props")),(0,p.kt)("li",{parentName:"ol"},"\u53ef\u4ee5\u5206\u522b\u8bbe\u7f6e ",(0,p.kt)("inlineCode",{parentName:"li"},"propTypes")," \u548c ",(0,p.kt)("inlineCode",{parentName:"li"},"defaultProps")," \u4e24\u4e2a\u5c5e\u6027\u6765\u5206\u522b\u64cd\u4f5c ",(0,p.kt)("inlineCode",{parentName:"li"},"props"),"\u7684\u89c4\u8303\u548c\u9ed8\u8ba4\u503c\uff0c\u4e24\u8005\u90fd\u662f\u76f4\u63a5\u6dfb\u52a0\u5728\u7c7b\u5f0f\u7ec4\u4ef6\u7684",(0,p.kt)("strong",{parentName:"li"},"\u539f\u578b\u5bf9\u8c61"),"\u4e0a\u7684\uff08\u6240\u4ee5\u9700\u8981\u6dfb\u52a0 ",(0,p.kt)("inlineCode",{parentName:"li"},"static"),"\uff09"),(0,p.kt)("li",{parentName:"ol"},"\u540c\u65f6\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"li"},"..."),"\u8fd0\u7b97\u7b26\u6765\u7b80\u5316")),(0,p.kt)("h3",{id:"34-\u51fd\u6570\u5f0f\u7ec4\u4ef6\u7684\u4f7f\u7528"},"3.4 \u51fd\u6570\u5f0f\u7ec4\u4ef6\u7684\u4f7f\u7528"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u51fd\u6570\u5728\u4f7f\u7528props\u7684\u65f6\u5019\uff0c\u662f\u4f5c\u4e3a\u53c2\u6570\u8fdb\u884c\u4f7f\u7528\u7684(props)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <title>\u5bf9props\u8fdb\u884c\u9650\u5236</title>\n  </head>\n  <body>\n    \x3c!-- \u51c6\u5907\u597d\u4e00\u4e2a\u201c\u5bb9\u5668\u201d --\x3e\n    <div id="test1"></div>\n\n    <script type="text/babel">\n      //\u521b\u5efa\u7ec4\u4ef6\n      function Person(props) {\n        const { name, age, sex } = props\n        return (\n          <ul>\n            <li>\u59d3\u540d\uff1a{name}</li>\n            <li>\u6027\u522b\uff1a{sex}</li>\n            <li>\u5e74\u9f84\uff1a{age}</li>\n          </ul>\n        )\n      }\n      Person.propTypes = {\n        name: PropTypes.string.isRequired, //\u9650\u5236name\u5fc5\u4f20\uff0c\u4e14\u4e3a\u5b57\u7b26\u4e32\n        sex: PropTypes.string, //\u9650\u5236sex\u4e3a\u5b57\u7b26\u4e32\n        age: PropTypes.number, //\u9650\u5236age\u4e3a\u6570\u503c\n      }\n\n      //\u6307\u5b9a\u9ed8\u8ba4\u6807\u7b7e\u5c5e\u6027\u503c\n      Person.defaultProps = {\n        sex: \'\u7537\', //sex\u9ed8\u8ba4\u503c\u4e3a\u7537\n        age: 18, //age\u9ed8\u8ba4\u503c\u4e3a18\n      }\n      //\u6e32\u67d3\u7ec4\u4ef6\u5230\u9875\u9762\n      ReactDOM.render(<Person name="jerry" />, document.getElementById(\'test1\'))\n    <\/script>\n  </body>\n</html>\n')),(0,p.kt)("p",null,"\u51fd\u6570\u7ec4\u4ef6\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"props"),"\u5b9a\u4e49:"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"\u5728\u7ec4\u4ef6\u6807\u7b7e\u4e2d\u4f20\u9012 ",(0,p.kt)("inlineCode",{parentName:"li"},"props"),"\u7684\u503c"),(0,p.kt)("li",{parentName:"ol"},"\u7ec4\u4ef6\u51fd\u6570\u7684\u53c2\u6570\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"props")),(0,p.kt)("li",{parentName:"ol"},"\u5bf9 ",(0,p.kt)("inlineCode",{parentName:"li"},"props"),"\u7684\u9650\u5236\u548c\u9ed8\u8ba4\u503c\u540c\u6837\u8bbe\u7f6e\u5728\u539f\u578b\u5bf9\u8c61\u4e0a")),(0,p.kt)("h3",{id:"35-props-\u7684\u53ea\u8bfb\u6027"},"3.5 props \u7684\u53ea\u8bfb\u6027"),(0,p.kt)("p",null,"\u7ec4\u4ef6\u65e0\u8bba\u662f\u4f7f\u7528",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/components-and-props.html#function-and-class-components"},"\u51fd\u6570\u58f0\u660e\u8fd8\u662f\u901a\u8fc7 class \u58f0\u660e"),"\uff0c\u90fd\u7edd\u4e0d\u80fd\u4fee\u6539\u81ea\u8eab\u7684 props\u3002\u6765\u770b\u4e0b\u8fd9\u4e2a ",(0,p.kt)("inlineCode",{parentName:"p"},"sum")," \u51fd\u6570\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"function sum(a, b) {\n  return a + b;\n}\n")),(0,p.kt)("p",null,"\u8fd9\u6837\u7684\u51fd\u6570\u88ab\u79f0\u4e3a",(0,p.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Pure_function"},"\u201c\u7eaf\u51fd\u6570\u201d"),"\uff0c\u56e0\u4e3a\u8be5\u51fd\u6570\u4e0d\u4f1a\u5c1d\u8bd5\u66f4\u6539\u5165\u53c2\uff0c\u4e14\u591a\u6b21\u8c03\u7528\u4e0b\u76f8\u540c\u7684\u5165\u53c2\u59cb\u7ec8\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\u3002"),(0,p.kt)("p",null,"\u76f8\u53cd\uff0c\u4e0b\u9762\u8fd9\u4e2a\u51fd\u6570\u5219\u4e0d\u662f\u7eaf\u51fd\u6570\uff0c\u56e0\u4e3a\u5b83\u66f4\u6539\u4e86\u81ea\u5df1\u7684\u5165\u53c2\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"function withdraw(account, amount) {\n  account.total -= amount;\n}\n")),(0,p.kt)("p",null,"React \u975e\u5e38\u7075\u6d3b\uff0c\u4f46\u5b83\u4e5f\u6709\u4e00\u4e2a\u4e25\u683c\u7684\u89c4\u5219\uff1a"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6240\u6709 React \u7ec4\u4ef6\u90fd\u5fc5\u987b\u50cf\u7eaf\u51fd\u6570\u4e00\u6837\u4fdd\u62a4\u5b83\u4eec\u7684 props \u4e0d\u88ab\u66f4\u6539\u3002")),(0,p.kt)("p",null,"\u5f53\u7136\uff0c\u5e94\u7528\u7a0b\u5e8f\u7684 UI \u662f\u52a8\u6001\u7684\uff0c\u5e76\u4f1a\u4f34\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u800c\u53d8\u5316\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"state"),"\u5728\u4e0d\u8fdd\u53cd\u4e0a\u8ff0\u89c4\u5219\u7684\u60c5\u51b5\u4e0b\uff0cstate \u5141\u8bb8 React \u7ec4\u4ef6\u968f\u7528\u6237\u64cd\u4f5c\u3001\u7f51\u7edc\u54cd\u5e94\u6216\u8005\u5176\u4ed6\u53d8\u5316\u800c\u52a8\u6001\u66f4\u6539\u8f93\u51fa\u5185\u5bb9\u3002"),(0,p.kt)("h2",{id:"4refs"},"4.refs"),(0,p.kt)("p",null,"Refs \u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u5f0f\uff0c\u5141\u8bb8\u6211\u4eec\u8bbf\u95ee DOM \u8282\u70b9\u6216\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"render")," \u65b9\u6cd5\u4e2d\u521b\u5efa\u7684 React \u5143\u7d20\u3002"),(0,p.kt)("p",null,"\u5728\u5178\u578b\u7684 React \u6570\u636e\u6d41\u4e2d\uff0c",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/components-and-props.html"},"props")," \u662f\u7236\u7ec4\u4ef6\u4e0e\u5b50\u7ec4\u4ef6\u4ea4\u4e92\u7684\u552f\u4e00\u65b9\u5f0f\u3002\u8981\u4fee\u6539\u4e00\u4e2a\u5b50\u7ec4\u4ef6\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u65b0\u7684 props \u6765\u91cd\u65b0\u6e32\u67d3\u5b83\u3002\u4f46\u662f\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u9700\u8981\u5728\u5178\u578b\u6570\u636e\u6d41\u4e4b\u5916\u5f3a\u5236\u4fee\u6539\u5b50\u7ec4\u4ef6\u3002\u88ab\u4fee\u6539\u7684\u5b50\u7ec4\u4ef6\u53ef\u80fd\u662f\u4e00\u4e2a React \u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a DOM \u5143\u7d20\u3002\u5bf9\u4e8e\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0cReact \u90fd\u63d0\u4f9b\u4e86\u89e3\u51b3\u529e\u6cd5\u3002"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u5728\u6211\u4eec\u6b63\u5e38\u7684\u64cd\u4f5c\u8282\u70b9\u65f6\uff0c\u9700\u8981\u91c7\u7528DOM API \u6765\u67e5\u627e\u5143\u7d20\uff0c\u4f46\u662f\u8fd9\u6837\u8fdd\u80cc\u4e86 React \u7684\u7406\u5ff5\uff0c\u56e0\u6b64\u6709\u4e86",(0,p.kt)("inlineCode",{parentName:"p"},"refs"))),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u4f55\u65f6\u4f7f\u7528 Refs")),(0,p.kt)("p",null,"\u4e0b\u9762\u662f\u51e0\u4e2a\u9002\u5408\u4f7f\u7528 refs \u7684\u60c5\u51b5\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u7ba1\u7406\u7126\u70b9\uff0c\u6587\u672c\u9009\u62e9\u6216\u5a92\u4f53\u64ad\u653e\u3002"),(0,p.kt)("li",{parentName:"ul"},"\u89e6\u53d1\u5f3a\u5236\u52a8\u753b\u3002"),(0,p.kt)("li",{parentName:"ul"},"\u96c6\u6210\u7b2c\u4e09\u65b9 DOM \u5e93\u3002")),(0,p.kt)("p",null,"\u907f\u514d\u4f7f\u7528 refs \u6765\u505a\u4efb\u4f55\u53ef\u4ee5\u901a\u8fc7\u58f0\u660e\u5f0f\u5b9e\u73b0\u6765\u5b8c\u6210\u7684\u4e8b\u60c5\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6709\u4e09\u79cd\u64cd\u4f5c",(0,p.kt)("inlineCode",{parentName:"strong"},"refs"),"\u7684\u65b9\u6cd5\uff0c\u5206\u522b\u4e3a\uff1a")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u5b57\u7b26\u4e32\u5f62\u5f0f"),(0,p.kt)("li",{parentName:"ul"},"\u56de\u8c03\u5f62\u5f0f"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"createRef"),"\u5f62\u5f0f")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u52ff\u8fc7\u5ea6\u4f7f\u7528 Refs")),(0,p.kt)("p",null,"\u4f60\u53ef\u80fd\u9996\u5148\u4f1a\u60f3\u5230\u4f7f\u7528 refs \u5728\u4f60\u7684 app \u4e2d\u201c\u8ba9\u4e8b\u60c5\u53d1\u751f\u201d\u3002\u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u82b1\u4e00\u70b9\u65f6\u95f4\uff0c\u8ba4\u771f\u518d\u8003\u8651\u4e00\u4e0b state \u5c5e\u6027\u5e94\u8be5\u88ab\u5b89\u6392\u5728\u54ea\u4e2a\u7ec4\u4ef6\u5c42\u4e2d\u3002\u901a\u5e38\u4f60\u4f1a\u60f3\u660e\u767d\uff0c\u8ba9\u66f4\u9ad8\u7684\u7ec4\u4ef6\u5c42\u7ea7\u62e5\u6709\u8fd9\u4e2a state\uff0c\u662f\u66f4\u6070\u5f53\u7684\u3002\u67e5\u770b ",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/lifting-state-up.html"},"\u72b6\u6001\u63d0\u5347")," \u4ee5\u83b7\u53d6\u66f4\u591a\u6709\u5173\u793a\u4f8b\u3002"),(0,p.kt)("h3",{id:"41-\u5b57\u7b26\u4e32\u5f62\u5f0f"},"4.1 \u5b57\u7b26\u4e32\u5f62\u5f0f"),(0,p.kt)("p",null,"\u5728\u60f3\u8981\u83b7\u53d6\u5230\u4e00\u4e2aDOM\u8282\u70b9\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0a\u6dfb\u52a0ref\u5c5e\u6027\u3002\u5229\u7528\u8be5\u5c5e\u6027\u8fdb\u884c\u83b7\u53d6\u8be5\u8282\u70b9\u7684\u503c\u3002"),(0,p.kt)("p",null,"\u6848\u4f8b\uff1a\u7ed9\u9700\u8981\u7684\u8282\u70b9\u6dfb\u52a0ref\u5c5e\u6027\uff0c\u6b64\u65f6\u8be5\u5b9e\u4f8b\u5bf9\u8c61\u7684refs\u4e0a\u5c31\u4f1a\u6709\u8fd9\u4e2a\u503c\u3002\u5c31\u53ef\u4ee5\u5229\u7528\u5b9e\u4f8b\u5bf9\u8c61\u7684refs\u83b7\u53d6\u5df2\u7ecf\u6dfb\u52a0\u8282\u70b9\u7684\u503c"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'  \x3c!-- \u51c6\u5907\u597d\u4e00\u4e2a\u201c\u5bb9\u5668\u201d --\x3e\n    <div id="test"></div>\n    <script type="text/babel">\n        //\u521b\u5efa\u7ec4\u4ef6\n        class Demo extends React.Component{\n            //\u5c55\u793a\u5de6\u4fa7\u8f93\u5165\u6846\u7684\u6570\u636e\n            showData = ()=>{\n                const {input1} = this.refs\n                alert(input1.value)\n            }\n            //\u5c55\u793a\u53f3\u4fa7\u8f93\u5165\u6846\u7684\u6570\u636e\n            showData2 = ()=>{\n                const {input2} = this.refs\n                alert(input2.value)\n            }\n            render(){\n                return(\n                    <div>\n                        <input ref="input1" type="text" placeholder="\u70b9\u51fb\u6309\u94ae\u63d0\u793a\u6570\u636e"/>&nbsp;\n                        <button onClick={this.showData}>\u70b9\u6211\u63d0\u793a\u5de6\u4fa7\u7684\u6570\u636e</button>&nbsp;\n                        <input ref="input2" onBlur={this.showData2} type="text" placeholder="\u5931\u53bb\u7126\u70b9\u63d0\u793a\u6570\u636e"/>\n                    </div>\n                )\n            }\n        }\n        //\u6e32\u67d3\u7ec4\u4ef6\u5230\u9875\u9762\n        ReactDOM.render(<Demo a="1" b="2"/>,document.getElementById(\'test\'))\n    <\/script>\n')),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6ce8\u610f")),(0,p.kt)("p",null,"\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\uff0c\u56e0\u4e3a string \u7c7b\u578b\u7684 refs \u5b58\u5728 ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/facebook/react/pull/8333#issuecomment-271648615"},"\u4e00\u4e9b\u95ee\u9898"),"\u3002\u5b83\u5df2\u8fc7\u65f6\u5e76\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u7684\u7248\u672c\u88ab\u79fb\u9664\u3002"),(0,p.kt)("p",null,"\u5982\u679c\u4f60\u76ee\u524d\u8fd8\u5728\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"this.refs.textInput")," \u8fd9\u79cd\u65b9\u5f0f\u8bbf\u95ee refs \uff0c\u6211\u4eec\u5efa\u8bae\u7528",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/refs-and-the-dom.html#callback-refs"},"\u56de\u8c03\u51fd\u6570"),"\u6216 ",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/refs-and-the-dom.html#creating-refs"},(0,p.kt)("inlineCode",{parentName:"a"},"createRef")," API")," \u7684\u65b9\u5f0f\u4ee3\u66ff\u3002"),(0,p.kt)("h3",{id:"42-\u56de\u8c03\u5f62\u5f0f"},"4.2 \u56de\u8c03\u5f62\u5f0f"),(0,p.kt)("p",null,"React \u4e5f\u652f\u6301\u53e6\u4e00\u79cd\u8bbe\u7f6e refs \u7684\u65b9\u5f0f\uff0c\u79f0\u4e3a\u201c\u56de\u8c03 refs\u201d\u3002\u5b83\u80fd\u52a9\u4f60\u66f4\u7cbe\u7ec6\u5730\u63a7\u5236\u4f55\u65f6 refs \u88ab\u8bbe\u7f6e\u548c\u89e3\u9664\u3002"),(0,p.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u5c06\u8be5DOM\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u8fc7\u53bb\u3002"),(0,p.kt)("p",null,"\u7ec4\u4ef6\u5b9e\u4f8b\u7684",(0,p.kt)("inlineCode",{parentName:"p"},"ref"),"\u5c5e\u6027\u4f20\u9012\u4e00\u4e2a\u56de\u8c03\u51fd\u6570",(0,p.kt)("inlineCode",{parentName:"p"},"c => this.input1 = c "),"\uff08\u7bad\u5934\u51fd\u6570\u7b80\u5199\uff09\uff0c\u8fd9\u6837\u4f1a\u5728\u5b9e\u4f8b\u7684\u5c5e\u6027\u4e2d\u5b58\u50a8\u5bf9DOM\u8282\u70b9\u7684\u5f15\u7528\uff0c\u4f7f\u7528\u65f6\u53ef\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"this.input1"),"\u6765\u4f7f\u7528"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'<input ref={e => this.input1 = e } type="text" placeholder="\u70b9\u51fb\u6309\u94ae\u63d0\u793a\u6570\u636e"/>\n')),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"e"),"\u4f1a\u63a5\u6536\u5230\u5f53\u524d\u8282\u70b9\u4f5c\u4e3a\u53c2\u6570\uff0c\u7136\u540e\u5c06\u5f53\u524d\u8282\u70b9\u8d4b\u503c\u7ed9\u5b9e\u4f8b\u7684",(0,p.kt)("inlineCode",{parentName:"p"},"input1"),"\u5c5e\u6027\u4e0a\u9762"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u5173\u4e8e\u56de\u8c03 refs \u7684\u8bf4\u660e")),(0,p.kt)("p",null,"\u5982\u679c ",(0,p.kt)("inlineCode",{parentName:"p"},"ref")," \u56de\u8c03\u51fd\u6570\u662f\u4ee5\u5185\u8054\u51fd\u6570\u7684\u65b9\u5f0f\u5b9a\u4e49\u7684\uff0c\u5728\u66f4\u65b0\u8fc7\u7a0b\u4e2d\u5b83\u4f1a\u88ab\u6267\u884c\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u4f20\u5165\u53c2\u6570 ",(0,p.kt)("inlineCode",{parentName:"p"},"null"),"\uff0c\u7136\u540e\u7b2c\u4e8c\u6b21\u4f1a\u4f20\u5165\u53c2\u6570 DOM \u5143\u7d20\u3002\u8fd9\u662f\u56e0\u4e3a\u5728\u6bcf\u6b21\u6e32\u67d3\u65f6\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u5b9e\u4f8b\uff0c\u6240\u4ee5 React \u6e05\u7a7a\u65e7\u7684 ref \u5e76\u4e14\u8bbe\u7f6e\u65b0\u7684\u3002\u901a\u8fc7\u5c06 ref \u7684\u56de\u8c03\u51fd\u6570\u5b9a\u4e49\u6210 class \u7684\u7ed1\u5b9a\u51fd\u6570\u7684\u65b9\u5f0f\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u95ee\u9898\uff0c\u4f46\u662f\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u5b83\u662f\u65e0\u5173\u7d27\u8981\u7684\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"class Demo extends React.Component {\n    state = { isHot: false }\n\n    changeWeather = () => {\n      //\u83b7\u53d6\u539f\u6765\u7684\u72b6\u6001\n      const { isHot } = this.state\n      //\u66f4\u65b0\u72b6\u6001\n      this.setState({ isHot: !isHot })\n    }\n\n    render() {\n      const { isHot } = this.state\n      return (\n        <div>\n          <h2>\u4eca\u5929\u5929\u6c14\u5f88{isHot ? '\u708e\u70ed' : '\u51c9\u723d'}</h2>\n          <input\n            ref={c => {\n              this.input1 = c\n              console.log('@', c)\n            }}\n            type=\"text\"\n          />\n          <br />\n          <br />\n          <button onClick={this.changeWeather}>\u70b9\u6211\u5207\u6362\u5929\u6c14</button>\n        </div>\n      )\n    }\n}\n")),(0,p.kt)("p",null,"\u521a\u6e32\u67d3\u5b8c\u4f1a\u8c03\u7528\u4e00\u6b21\n",(0,p.kt)("img",{alt:"2-3",src:n(6217).Z,width:"436",height:"714"})),(0,p.kt)("p",null,"\u89e6\u53d1\u6a21\u677f\u66f4\u65b0\u4f1a\u8c03\u7528\u4e24\u6b21\n",(0,p.kt)("img",{alt:"2-4",src:n(9250).Z,width:"570",height:"730"})),(0,p.kt)("p",null,"\u7b2c\u4e00\u6b21\u4f20\u9012\u4e00\u4e2anull\u503c\u628a\u4e4b\u524d\u7684\u5c5e\u6027\u6e05\u7a7a\uff0c\u518d\u91cd\u65b0\u8d4b\u503c\u3002"),(0,p.kt)("p",null,"\u5982\u679c\u4e0d\u60f3\u603b\u662f\u8fd9\u6837\u91cd\u65b0\u521b\u5efa\u65b0\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6848"),(0,p.kt)("p",null,"\u4e0b\u9762\u7684\u4f8b\u5b50\u63cf\u8ff0\u4e86\u4e00\u4e2a\u901a\u7528\u7684\u8303\u4f8b\uff1a\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"ref")," \u56de\u8c03\u51fd\u6570\uff0c\u5728\u5b9e\u4f8b\u7684\u5c5e\u6027\u4e2d\u5b58\u50a8\u5bf9 DOM \u8282\u70b9\u7684\u5f15\u7528\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"//\u521b\u5efa\u7ec4\u4ef6\nclass Demo extends React.Component {\n    state = { isHot: false }\n    // \u5728\u5b9e\u4f8b\u4e0a\u9762\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\n    setTextInputRef = e => {\n      this.input1 = e\n    }\n\n    changeWeather = () => {\n      console.log(this.input1)\n      //\u83b7\u53d6\u539f\u6765\u7684\u72b6\u6001\n      const { isHot } = this.state\n      //\u66f4\u65b0\u72b6\u6001\n      this.setState({ isHot: !isHot })\n    }\n\n    render() {\n      const { isHot } = this.state\n      return (\n        <div>\n          <h2>\u4eca\u5929\u5929\u6c14\u5f88{isHot ? '\u708e\u70ed' : '\u51c9\u723d'}</h2>\n          <input ref={this.setTextInputRef} type=\"text\" />\n          <br />\n          <button onClick={this.changeWeather}>\u70b9\u6211\u5207\u6362\u5929\u6c14</button>\n        </div>\n      )\n    }\n}\n")),(0,p.kt)("p",null,"React \u5c06\u5728\u7ec4\u4ef6\u6302\u8f7d\u65f6\uff0c\u4f1a\u8c03\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"ref")," \u56de\u8c03\u51fd\u6570\u5e76\u4f20\u5165 DOM \u5143\u7d20\uff0c\u5f53\u5378\u8f7d\u65f6\u8c03\u7528\u5b83\u5e76\u4f20\u5165 ",(0,p.kt)("inlineCode",{parentName:"p"},"null"),"\u3002"),(0,p.kt)("p",null,"\u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u95f4\u4f20\u9012\u56de\u8c03\u5f62\u5f0f\u7684 refs\uff0c\u5c31\u50cf\u4f60\u53ef\u4ee5\u4f20\u9012\u901a\u8fc7 ",(0,p.kt)("inlineCode",{parentName:"p"},"React.createRef()")," \u521b\u5efa\u7684\u5bf9\u8c61 refs \u4e00\u6837\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"function CustomTextInput(props) {\n  return (\n    <div>\n      <input ref={props.inputRef} />    \n     </div>\n  );\n}\n\nclass Parent extends React.Component {\n  render() {\n    return (\n      <CustomTextInput\n        inputRef={el => this.inputElement = el}      />\n    );\n  }\n}\n")),(0,p.kt)("p",null,"\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"Parent")," \u628a\u5b83\u7684 refs \u56de\u8c03\u51fd\u6570\u5f53\u4f5c ",(0,p.kt)("inlineCode",{parentName:"p"},"inputRef")," props \u4f20\u9012\u7ed9\u4e86 ",(0,p.kt)("inlineCode",{parentName:"p"},"CustomTextInput"),"\uff0c\u800c\u4e14 ",(0,p.kt)("inlineCode",{parentName:"p"},"CustomTextInput")," \u628a\u76f8\u540c\u7684\u51fd\u6570\u4f5c\u4e3a\u7279\u6b8a\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"ref")," \u5c5e\u6027\u4f20\u9012\u7ed9\u4e86 ",(0,p.kt)("inlineCode",{parentName:"p"},"<input>"),"\u3002\u7ed3\u679c\u662f\uff0c\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"Parent")," \u4e2d\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"this.inputElement")," \u4f1a\u88ab\u8bbe\u7f6e\u4e3a\u4e0e ",(0,p.kt)("inlineCode",{parentName:"p"},"CustomTextInput")," \u4e2d\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"input")," \u5143\u7d20\u76f8\u5bf9\u5e94\u7684 DOM \u8282\u70b9\u3002"),(0,p.kt)("h3",{id:"43-createref-\u5f62\u5f0f\u63a8\u8350\u5199\u6cd5"},"4.3 createRef \u5f62\u5f0f\uff08\u63a8\u8350\u5199\u6cd5\uff09"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u521b\u5efa Refs")),(0,p.kt)("p",null,"Refs \u662f\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"React.createRef()")," \u521b\u5efa\u7684\uff0c\u5e76\u901a\u8fc7 ",(0,p.kt)("inlineCode",{parentName:"p"},"ref")," \u5c5e\u6027\u9644\u52a0\u5230 React \u5143\u7d20\u3002\u5728\u6784\u9020\u7ec4\u4ef6\u65f6\uff0c\u901a\u5e38\u5c06 Refs \u5206\u914d\u7ed9\u5b9e\u4f8b\u5c5e\u6027\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5728\u6574\u4e2a\u7ec4\u4ef6\u4e2d\u5f15\u7528\u5b83\u4eec\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"class MyComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n  }\n  render() {\n    return <div ref={this.myRef} />;\n  }\n}\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u8bbf\u95ee Refs")),(0,p.kt)("p",null,"\u5f53 ref \u88ab\u4f20\u9012\u7ed9 ",(0,p.kt)("inlineCode",{parentName:"p"},"render")," \u4e2d\u7684\u5143\u7d20\u65f6\uff0c\u5bf9\u8be5\u8282\u70b9\u7684\u5f15\u7528\u53ef\u4ee5\u5728 ref \u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"current")," \u5c5e\u6027\u4e2d\u88ab\u8bbf\u95ee\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"const node = this.myRef.current;\n")),(0,p.kt)("p",null,"ref \u7684\u503c\u6839\u636e\u8282\u70b9\u7684\u7c7b\u578b\u800c\u6709\u6240\u4e0d\u540c\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u5f53 ",(0,p.kt)("inlineCode",{parentName:"li"},"ref")," \u5c5e\u6027\u7528\u4e8e HTML \u5143\u7d20\u65f6\uff0c\u6784\u9020\u51fd\u6570\u4e2d\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"React.createRef()")," \u521b\u5efa\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"ref")," \u63a5\u6536\u5e95\u5c42 DOM \u5143\u7d20\u4f5c\u4e3a\u5176 ",(0,p.kt)("inlineCode",{parentName:"li"},"current")," \u5c5e\u6027\u3002"),(0,p.kt)("li",{parentName:"ul"},"\u5f53 ",(0,p.kt)("inlineCode",{parentName:"li"},"ref")," \u5c5e\u6027\u7528\u4e8e\u81ea\u5b9a\u4e49 class \u7ec4\u4ef6\u65f6\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"ref")," \u5bf9\u8c61\u63a5\u6536\u7ec4\u4ef6\u7684\u6302\u8f7d\u5b9e\u4f8b\u4f5c\u4e3a\u5176 ",(0,p.kt)("inlineCode",{parentName:"li"},"current")," \u5c5e\u6027\u3002"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("strong",{parentName:"li"},"\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"strong"},"ref")," \u5c5e\u6027"),"\uff0c\u56e0\u4e3a\u4ed6\u4eec\u6ca1\u6709\u5b9e\u4f8b\u3002")),(0,p.kt)("h3",{id:"44-\u4e3a-dom-\u5143\u7d20\u6dfb\u52a0-ref"},"4.4 \u4e3a DOM \u5143\u7d20\u6dfb\u52a0 ref"),(0,p.kt)("p",null,"\u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"ref")," \u53bb\u5b58\u50a8 DOM \u8282\u70b9\u7684\u5f15\u7528\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'class CustomTextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    // \u521b\u5efa\u4e00\u4e2a ref \u6765\u5b58\u50a8 textInput \u7684 DOM \u5143\u7d20\n    this.textInput = React.createRef();    \n    this.focusTextInput = this.focusTextInput.bind(this);\n  }\n\n  focusTextInput() {\n    // \u76f4\u63a5\u4f7f\u7528\u539f\u751f API \u4f7f text \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9\n    // \u6ce8\u610f\uff1a\u6211\u4eec\u901a\u8fc7 "current" \u6765\u8bbf\u95ee DOM \u8282\u70b9\n    this.textInput.current.focus();  \n  }\n\n  render() {\n    // \u544a\u8bc9 React \u6211\u4eec\u60f3\u628a <input> ref \u5173\u8054\u5230\n    // \u6784\u9020\u5668\u91cc\u521b\u5efa\u7684 `textInput` \u4e0a\n    return (\n      <div>\n        <input\n          type="text"\n          ref={this.textInput} \n        />        \n        <input\n          type="button"\n          value="Focus the text input"\n          onClick={this.focusTextInput}\n        />\n      </div>\n    );\n  }\n}\n')),(0,p.kt)("p",null,"React \u4f1a\u5728\u7ec4\u4ef6\u6302\u8f7d\u65f6\u7ed9 ",(0,p.kt)("inlineCode",{parentName:"p"},"current")," \u5c5e\u6027\u4f20\u5165 DOM \u5143\u7d20\uff0c\u5e76\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6\u4f20\u5165 ",(0,p.kt)("inlineCode",{parentName:"p"},"null")," \u503c\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"ref")," \u4f1a\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"componentDidMount")," \u6216 ",(0,p.kt)("inlineCode",{parentName:"p"},"componentDidUpdate")," \u751f\u547d\u5468\u671f\u94a9\u5b50\u89e6\u53d1\u524d\u66f4\u65b0\u3002"),(0,p.kt)("p",null,"\u6ce8\u610f\uff1a\u6211\u4eec\u4e0d\u8981\u8fc7\u5ea6\u7684\u4f7f\u7528 ref\uff0c\u5982\u679c\u53d1\u751f\u65f6\u95f4\u7684\u5143\u7d20\u521a\u597d\u662f\u9700\u8981\u64cd\u4f5c\u7684\u5143\u7d20\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u5bf9\u8c61\u53bb\u66ff\u4ee3\u3002"),(0,p.kt)("h3",{id:"45-\u4e3a-class-\u7ec4\u4ef6\u6dfb\u52a0-ref"},"4.5 \u4e3a class \u7ec4\u4ef6\u6dfb\u52a0 Ref"),(0,p.kt)("p",null,"\u5982\u679c\u6211\u4eec\u60f3\u5305\u88c5\u4e0a\u9762\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"CustomTextInput"),"\uff0c\u6765\u6a21\u62df\u5b83\u6302\u8f7d\u4e4b\u540e\u7acb\u5373\u88ab\u70b9\u51fb\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ref \u6765\u83b7\u53d6\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7684 input \u7ec4\u4ef6\u5e76\u624b\u52a8\u8c03\u7528\u5b83\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"focusTextInput")," \u65b9\u6cd5\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"class AutoFocusTextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.textInput = React.createRef();  \n  }\n\n  componentDidMount() {\n    this.textInput.current.focusTextInput();  \n  }\n\n  render() {\n    return (\n      <CustomTextInput ref={this.textInput} />    \n    );\n  }\n}\n")),(0,p.kt)("p",null,"\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4ec5\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"CustomTextInput")," \u58f0\u660e\u4e3a class \u65f6\u624d\u6709\u6548\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"class CustomTextInput extends React.Component {  // ...\n}\n")),(0,p.kt)("h3",{id:"46-refs-\u4e0e\u51fd\u6570\u7ec4\u4ef6"},"4.6 Refs \u4e0e\u51fd\u6570\u7ec4\u4ef6"),(0,p.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c",(0,p.kt)("strong",{parentName:"p"},"\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u7ec4\u4ef6\u4e0a\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"strong"},"ref")," \u5c5e\u6027"),"\uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u5b9e\u4f8b\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"function MyFunctionComponent() {\n  return <input />;\n}\n\nclass Parent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.textInput = React.createRef();\n  }\n  render() {\n    // This will *not* work!\n    return (\n      <MyFunctionComponent ref={this.textInput} />\n    );\n  }\n}\n")),(0,p.kt)("p",null,"\u5982\u679c\u8981\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"ref"),"\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/forwarding-refs.html"},(0,p.kt)("inlineCode",{parentName:"a"},"forwardRef")),"\uff08\u53ef\u4e0e ",(0,p.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/hooks-reference.html#useimperativehandle"},(0,p.kt)("inlineCode",{parentName:"a"},"useImperativeHandle"))," \u7ed3\u5408\u4f7f\u7528\uff09\uff0c\u6216\u8005\u53ef\u4ee5\u5c06\u8be5\u7ec4\u4ef6\u8f6c\u5316\u4e3a class \u7ec4\u4ef6\u3002"),(0,p.kt)("p",null,"\u4e0d\u7ba1\u600e\u6837\uff0c\u4f60\u53ef\u4ee5",(0,p.kt)("strong",{parentName:"p"},"\u5728\u51fd\u6570\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"strong"},"ref")," \u5c5e\u6027"),"\uff0c\u53ea\u8981\u5b83\u6307\u5411\u4e00\u4e2a DOM \u5143\u7d20\u6216 class \u7ec4\u4ef6\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'function CustomTextInput(props) {\n  // \u8fd9\u91cc\u5fc5\u987b\u58f0\u660e textInput\uff0c\u8fd9\u6837 ref \u624d\u53ef\u4ee5\u5f15\u7528\u5b83\n  const textInput = useRef(null);\n\n  function handleClick() {\n    textInput.current.focus();\n  }\n\n  return (\n    <div>\n      <input\n        type="text"\n        ref={textInput} />\n      <input\n        type="button"\n        value="Focus the text input"\n        onClick={handleClick}\n      />\n    </div>\n  );\n}\n')))}c.isMDXComponent=!0},1374:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2-1-afbb557572fab7afb5de4dc4252361ef.png"},4527:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2-2-269a909ff18019836f13c48a4fa2c939.png"},6217:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2-3-ef711bd850db1faffa5f8f24f898b0f1.png"},9250:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2-4-46477b12b5799ce7cca4da8a27612bba.png"}}]);